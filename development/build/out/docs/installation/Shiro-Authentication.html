<hr>
<h2>
<a id="layout-defaulttitle-cas---shiro-authenticationcategory-authentication" class="anchor" href="#layout-defaulttitle-cas---shiro-authenticationcategory-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>layout: default<br>
title: CAS - Shiro Authentication<br>
category: Authentication</h2>
<p>{% include variables.html %}</p>
<h1>
<a id="shiro-authentication" class="anchor" href="#shiro-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Shiro Authentication</h1>
<p>CAS support handling the authentication event via <a href="http://shiro.apache.org/">Apache Shiro</a>.</p>
<h2>
<a id="components" class="anchor" href="#components" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Components</h2>
<p>Support is enabled by including the following dependency in the WAR overlay:</p>
<p>{% include casmodule.html group="org.apereo.cas" module="cas-server-support-shiro-authentication" %}</p>
<h2>
<a id="shiro-configuration" class="anchor" href="#shiro-configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Shiro Configuration</h2>
<p>Apache Shiro supports retrieving and checking roles and permissions for an authenticated<br>
subject. CAS exposes a modest configuration to enforce roles and permissions as part<br>
of the authentication, so that in their absence, the authentication may fail.<br>
While by default these settings are optional, you may configure roles and/or permissions<br>
for the given authentication handler to check their presence and report back.</p>
<p>To see the relevant list of CAS properties, please <a href="../configuration/Configuration-Properties.html#shiro-authentication">review this guide</a>.</p>
<p>Sample <code>shiro.ini</code> that needs be placed on the classpath based on the example above:</p>
<pre lang="ini"><code>[main]
cacheManager = org.apache.shiro.cache.MemoryConstrainedCacheManager
securityManager.cacheManager = $cacheManager

[users]
casuser = Mellon, admin

[roles]
admin = system,admin,staff,superuser:*
</code></pre>
<h2>
<a id="logging" class="anchor" href="#logging" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Logging</h2>
<p>To enable additional logging, configure the log4j configuration file to add the following levels:</p>
<pre lang="xml"><code>...
&lt;Logger name="org.apache.shiro" level="debug" additivity="false"&gt;
    &lt;AppenderRef ref="console"/&gt;
    &lt;AppenderRef ref="file"/&gt;
&lt;/Logger&gt;
...
</code></pre>