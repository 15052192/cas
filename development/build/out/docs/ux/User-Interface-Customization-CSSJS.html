<hr>
<h2>
<a id="layout-defaulttitle-css--javascript---user-interface-customization---cascategory-user-interface" class="anchor" href="#layout-defaulttitle-css--javascript---user-interface-customization---cascategory-user-interface" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>layout: default<br>
title: CSS &amp; JavaScript - User Interface Customization - CAS<br>
category: User Interface</h2>
<h1>
<a id="css" class="anchor" href="#css" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CSS</h1>
<p>The default styles are all contained in one single file located in <code>src/main/resources/static/css/cas.css</code>. This location is set in <code>cas-theme-default.properties</code>. CAS by default uses <a href="https://material.io/">Material.io</a> library and design specification as a base for its user experience.</p>
<p>If you would like to create your own <code>css/custom.css file</code>, for example, you will need to update <code>cas.standard.css.file</code> key in that file.</p>
<pre lang="bash"><code>cas.standard.css.file=/css/cas.css
cas.standard.js.file=/js/cas.js
</code></pre>
<h2>
<a id="responsive-design" class="anchor" href="#responsive-design" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Responsive Design</h2>
<p>CSS media queries bring responsive design features to CAS which would allow the adopter to focus<br>
on one theme for all appropriate devices and platforms. These queries are defined in the<br>
same <code>cas.css</code> file. They follow the Twitter Bootstrap breakpoints and grid.</p>
<h1>
<a id="javascript" class="anchor" href="#javascript" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Javascript</h1>
<p>If you need to add some JavaScript, feel free to append <code>src/main/resources/static/js/cas.js</code>.</p>
<p>You can also create your own <code>custom.js</code> file, for example, and call it from within <code>scripts.html</code> like so:</p>
<pre lang="html"><code>&lt;script type="text/javascript" src="/js/custom.js"&gt;&lt;/script&gt;
</code></pre>
<p>If you are developing themes per service, each theme also has the ability to specify a custom <code>cas.js</code> file under the <code>cas.standard.js.file</code> setting.</p>
<p>Most importantly, the following Javascript libraries are utilized by CAS automatically:</p>
<ul>
<li><a href="https://jquery.com/">JQuery</a></li>
<li><a href="https://getbootstrap.com/docs/4.5/getting-started/contents/#css-files">Bootstrap for grid / flex utilities</a></li>
<li><a href="https://material.io/">Material.io</a></li>
</ul>
<h2>
<a id="script-loading" class="anchor" href="#script-loading" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Script Loading</h2>
<p>CAS provides a callback function that allows adopters to be notified when script loading has completed and this would be a safe time to execute/load other Javascript-related functions that depend on JQuery inside the actual page.</p>
<pre lang="javascript"><code>function jqueryReady() {
    // Custom Javascript tasks can be carried out now via JQuery...
}
</code></pre>
<h2>
<a id="checking-capslock" class="anchor" href="#checking-capslock" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Checking CAPSLOCK</h2>
<p>CAS will display a brief warning when the CAPSLOCK key is turned on during the typing of the credential password. This check is enforced by the <code>cas.js</code> file.</p>
<h2>
<a id="browser-cookie-support" class="anchor" href="#browser-cookie-support" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Browser Cookie Support</h2>
<p>For CAS to honor a single sign-on session, the browser MUST support and accept cookies. CAS will notify the<br>
user if the browser has turned off its support for cookies. This behavior is controlled via the <code>cas.js</code> file.</p>
<h2>
<a id="preserving-anchor-fragments" class="anchor" href="#preserving-anchor-fragments" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Preserving Anchor Fragments</h2>
<p>Anchors/fragments may be lost across redirects as the server-side handler of the form post ignores the client-side anchor, unless appended to the form POST url. This is needed if you want a CAS-authenticated application to be able to use anchors/fragments when bookmarking. CAS is configured by default to preserve anchor fragments where and when specified. There is nothing further for you to do.</p>
<h3>
<a id="webjars-for-javascriptcss-libraries" class="anchor" href="#webjars-for-javascriptcss-libraries" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>WebJARs for Javascript/CSS Libraries</h3>
<p>The CAS application packages third party static resources inside the CAS webapp rather than referencing CDN links so that CAS may be deployed on<br>
networks with limited internet access.</p>
<p>The 3rd party static resources are packaged in "WebJAR" jar files and served up via the servlet <code>3.0</code> feature<br>
that merges any folders under <code>META-INF/resources</code> in web application jars with the application's web root.</p>
<p>For developers modifying CAS, if adding or modifying a 3rd party library, the steps are:</p>
<ul>
<li>Add WebJAR dependency to <code>dependencies.gradle</code> in the <code>ext.library.webjars</code> section.</li>
<li>Add dependency version to <code>gradle.properties</code> and use it in <code>dependency.gradle</code>.</li>
<li>Add entry to <code>core/cas-server-core-web/src/main/resources/cas_common_messages.properties</code> for each resource (e.g. js or css).</li>
<li>Reference the version from <code>gradle.properties</code> in the URL and it will be filtered in at build time).</li>
</ul>
<!-- raw HTML omitted -->
<p>For example:</p>
<pre lang="properties"><code>webjars.zxcvbn.js=/webjars/zxcvbn/dist/zxcvbn.js
</code></pre>
<p>Then Reference the entry from <code>cas_common_messages.properties</code> in the relevant view (i.e HTML page) where the entry is <code>webjars.zxcvbn.js</code>:</p>
<pre lang="html"><code>&lt;script type="text/javascript" th:src="@{#{webjars.zxcvbn.js}}"&gt;&lt;/script&gt;
</code></pre>
<h4>
<a id="building-webjars" class="anchor" href="#building-webjars" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Building WebJARs</h4>
<p>You can search for webjars at <a href="http://webjars.org">http://webjars.org</a>. There are three flavors of WebJARs that you can read about but the NPM and Bower types can be created automatically for any version (if they don't already exist) as long as there exists an NPM or Bower package for the web resources you want to use. Click the "Add a webjar" button and follow the instructions. If customizing the UI in an overlay, the deployer can add webjars as dependencies to their overlay project and reference the URLs of the resource either directly in an html file or via adding an entry to a <code>common_messages.properties</code> file in the overlay project's <code>src\main\resources</code> folder.</p>