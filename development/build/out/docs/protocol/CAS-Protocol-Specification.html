<hr>
<h2>
<a id="layout-defaulttitle-cas---cas-protocol-specificationcategory-protocols" class="anchor" href="#layout-defaulttitle-cas---cas-protocol-specificationcategory-protocols" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>layout: default<br>
title: CAS - CAS Protocol Specification<br>
category: Protocols</h2>
<!-- raw HTML omitted -->
<h1>
<a id="cas-protocol-30-specification" class="anchor" href="#cas-protocol-30-specification" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><em>CAS Protocol 3.0 Specification</em>
</h1>
<h1>
<a id="authors-version" class="anchor" href="#authors-version" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>Authors, Version</strong>
</h1>
<p>Author: Drew Mazurek</p>
<p>Contributors:</p>
<ul>
<li>Susan Bramhall</li>
<li>Howard Gilbert</li>
<li>Andy Newman</li>
<li>Andrew Petro</li>
<li>Robert Oschwald [CAS 3.0]</li>
<li>Misagh Moayyed</li>
</ul>
<p>Version: 3.0.3</p>
<p>Release Date: 2017-12-01</p>
<p>Copyright © 2005, Yale University</p>
<p>Copyright © 2017, Apereo, Inc.</p>
<!-- raw HTML omitted -->
<h1>
<a id="1-introduction" class="anchor" href="#1-introduction" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>1. Introduction</strong>
</h1>
<p>This is the official specification of the CAS 1.0, 2.0 and 3.0 protocols.</p>
<p>The Central Authentication Service (CAS) is a single-sign-on / single-sign-off protocol<br>
for the web.<br>
It permits a user to access multiple applications while providing their<br>
credentials (such as userid and password) only once to a central CAS Server<br>
application.</p>
<!-- raw HTML omitted -->
<h2>
<a id="11-conventions--definitions" class="anchor" href="#11-conventions--definitions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>1.1. Conventions &amp; Definitions</strong>
</h2>
<p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD",<br>
"SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this document are to be<br>
interpreted as described in RFC 2119[<a href="#1">1</a>].</p>
<ul>
<li>
<p>"Client" refers to the end user and/or the web browser.</p>
</li>
<li>
<p>"CAS Client" refers to the software component that is integrated with a web<br>
application and interacts with the CAS server via CAS protocol.</p>
</li>
<li>
<p>"Server" refers to the Central Authentication Service server.</p>
</li>
<li>
<p>"Service" refers to the application the client is trying to access.</p>
</li>
<li>
<p>"Back-end service" refers to the application a service is trying to access<br>
on behalf of a client. This can also be referred to as the "target service."</p>
</li>
<li>
<p>"SSO" refers to Single Sign on.</p>
</li>
<li>
<p>"SLO" refers to Single Logout.</p>
</li>
<li>
<p>"&lt;LF&gt;" is a bare line feed (ASCII value 0x0a).</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h2>
<a id="12-reference-implementation" class="anchor" href="#12-reference-implementation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>1.2 Reference Implementation</strong>
</h2>
<p>The Apereo CAS Server [<a href="#8">8</a>] is the official reference implementation of the<br>
CAS Protocol Specification.</p>
<p>Apereo CAS Server 4.x and above supports the CAS Protocol 3.0 Specification.</p>
<!-- raw HTML omitted -->
<h1>
<a id="2-cas-uris" class="anchor" href="#2-cas-uris" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2. CAS URIs</strong>
</h1>
<p>CAS is an HTTP[<a href="#2">2</a>],[<a href="#3">3</a>]-based protocol that requires each of its<br>
components to be accessible through specific URIs. This section will discuss<br>
each of the URIs:</p>
<table>
<thead>
<tr>
<th>URI</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>/login</code></td>
<td>credential requestor / acceptor</td>
</tr>
<tr>
<td><code>/logout</code></td>
<td>destroy CAS session (logout)</td>
</tr>
<tr>
<td><code>/validate</code></td>
<td>service ticket validation</td>
</tr>
<tr>
<td><code>/serviceValidate</code></td>
<td>service ticket validation [CAS 2.0]</td>
</tr>
<tr>
<td><code>/proxyValidate</code></td>
<td>service/proxy ticket validation [CAS 2.0]</td>
</tr>
<tr>
<td><code>/proxy</code></td>
<td>proxy ticket service [CAS 2.0]</td>
</tr>
<tr>
<td><code>/p3/serviceValidate</code></td>
<td>service ticket validation [CAS 3.0]</td>
</tr>
<tr>
<td><code>/p3/proxyValidate</code></td>
<td>service/proxy ticket validation [CAS 3.0]</td>
</tr>
</tbody>
</table>
<!-- raw HTML omitted -->
<h2>
<a id="21-login-as-credential-requestor" class="anchor" href="#21-login-as-credential-requestor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.1. /login as credential requestor</strong>
</h2>
<p>The <code>/login</code> URI operates with two behaviors: as a credential requestor, and as<br>
a credential acceptor. It responds to credentials by acting as a credential<br>
acceptor and otherwise acts as a credential requestor.</p>
<p>If the client has already established a single sign-on session with CAS, the<br>
web browser presents to CAS a secure cookie containing a string identifying<br>
a ticket-granting ticket. This cookie is called the ticket-granting cookie.<br>
If the ticket-granting cookie keys to a valid ticket-granting ticket, CAS MAY<br>
issue a service ticket provided all the other conditions in this specification<br>
are met.<br>
See Section <a href="#head3.6">3.6</a> for more information on ticket-granting cookies.</p>
<!-- raw HTML omitted -->
<h3>
<a id="211-parameters" class="anchor" href="#211-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.1.1. parameters</strong>
</h3>
<p>The following HTTP request parameters may be passed to <code>/login</code> while it is<br>
acting as a credential requestor. They are all case-sensitive, and they all<br>
MUST be handled by <code>/login</code>.</p>
<ul>
<li>
<p><code>service</code> [OPTIONAL] - the identifier of the application the client is<br>
trying to access. In almost all cases, this will be the URL of the<br>
application. As a HTTP request parameter, this URL value MUST be<br>
URL-encoded as described in section 2.2 of RFC 3986 [<a href="#4">4</a>].<br>
If a <code>service</code> is not specified and a single sign-on session does not yet<br>
exist, CAS SHOULD request credentials from the user to initiate a single<br>
sign-on session. If a <code>service</code> is not specified and a single sign-on<br>
session already exists, CAS SHOULD display a message notifying the client<br>
that it is already logged in.</p>
<blockquote>
<p>Note: It is STRONGLY RECOMMENDED that all <code>service</code> urls be filtered via<br>
the service management tool, such that only authorized and known<br>
client applications would be able to use the CAS server.<br>
Leaving the service management tool open to allow lenient access to<br>
all applications will potentially increase the risk of service attacks<br>
and other security vulnerabilities. Furthermore, it is RECOMMENDED that<br>
only secure protocols such as <code>https</code> be allowed for client applications<br>
for further strengthen the authenticating client.</p>
</blockquote>
</li>
<li>
<p><code>renew</code> [OPTIONAL] - if this parameter is set, single sign-on will be<br>
bypassed. In this case, CAS will require the client to present credentials<br>
regardless of the existence of a single sign-on session with CAS. This<br>
parameter is not compatible with the <code>gateway</code> parameter. Services<br>
redirecting to the <code>/login</code> URI and login form views posting to the <code>/login</code><br>
URI SHOULD NOT set both the <code>renew</code> and <code>gateway</code> request parameters.<br>
Behavior is undefined if both are set. It is RECOMMENDED that CAS<br>
implementations ignore the <code>gateway</code> parameter if <code>renew</code> is set.<br>
It is RECOMMENDED that when the <code>renew</code> parameter is set its value be "true".</p>
</li>
<li>
<p><code>gateway</code> [OPTIONAL] - if this parameter is set, CAS will not ask the client<br>
for credentials. If the client has a pre-existing single sign-on session<br>
with CAS, or if a single sign-on session can be established through<br>
non-interactive means (i.e. trust authentication), CAS MAY redirect the<br>
client to the URL specified by the <code>service</code> parameter, appending a valid<br>
service ticket. (CAS also MAY interpose an advisory page informing the<br>
client that a CAS authentication has taken place.) If the client does not<br>
have a single sign-on session with CAS, and a non-interactive authentication<br>
cannot be established, CAS MUST redirect the client to the URL specified by<br>
the <code>service</code> parameter with no "ticket" parameter appended to the URL. If<br>
the <code>service</code> parameter is not specified and <code>gateway</code> is set, the behavior<br>
of CAS is undefined. It is RECOMMENDED that in this case, CAS request<br>
credentials as if neither parameter was specified. This parameter is not<br>
compatible with the <code>renew</code> parameter. Behavior is undefined if both are<br>
set. It is RECOMMENDED that when the <code>gateway</code> parameter is set its value be<br>
"true".</p>
</li>
<li>
<p><code>method</code> [OPTIONAL, CAS 3.0] - The <code>method</code> to be used when sending responses.<br>
While native HTTP redirects (<code>GET</code>) may be utilized as the default method,<br>
applications that require a <code>POST</code> response can use this parameter to indicate<br>
the method type. A <code>HEADER</code> method may also be specified<br>
to indicate the CAS final response such as <code>service</code> and <code>ticket</code>should be returned<br>
in form of HTTP response headers.  It is up to the CAS server implementation to determine<br>
whether or not <code>POST</code> or <code>HEADER</code> responses are supported.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h3>
<a id="212-url-examples-of-login" class="anchor" href="#212-url-examples-of-login" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.1.2. URL examples of /login</strong>
</h3>
<p>Simple login example:</p>
<p><code>https://cas.example.org/cas/login?service=http%3A%2F%2Fwww.example.org%2Fservice</code></p>
<p>Don't prompt for username/password:</p>
<p><code>https://cas.example.org/cas/login?service=http%3A%2F%2Fwww.example.org%2Fservice&amp;gateway=true</code></p>
<p>Always prompt for username/password:</p>
<p><code>https://cas.example.org/cas/login?service=http%3A%2F%2Fwww.example.org%2Fservice&amp;renew=true</code></p>
<p>Use POST responses instead of redirects:</p>
<p><code>https://cas.example.org/cas/login?method=POST&amp;service=http%3A%2F%2Fwww.example.org%2Fservice</code></p>
<!-- raw HTML omitted -->
<h3>
<a id="213-response-for-usernamepassword-authentication" class="anchor" href="#213-response-for-usernamepassword-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.1.3. response for username/password authentication</strong>
</h3>
<p>When <code>/login</code> behaves as a credential requestor, the response will vary depending<br>
on the type of credentials it is requesting. In most cases, CAS will respond by<br>
displaying a login screen requesting a username and password. This page MUST<br>
include a form with the parameters, "username", "password", and "lt". The form<br>
MAY also include the parameter "warn". If <code>service</code> was specified to <code>/login</code>,<br>
<code>service</code> MUST also be a parameter of the form, containing the value originally<br>
passed to <code>/login</code>. These parameters are discussed in detail in Section <a href="#head2.2.1">2.2.1</a>. The<br>
form MUST be submitted through the HTTP POST method to <code>/login</code> which will then<br>
act as a credential acceptor, discussed in Section <a href="#head2.2">2.2</a>.</p>
<!-- raw HTML omitted -->
<h3>
<a id="214-response-for-trust-authentication" class="anchor" href="#214-response-for-trust-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.1.4. response for trust authentication</strong>
</h3>
<p>Trust authentication accommodates consideration of arbitrary aspects of the<br>
request as a basis for authentication. The appropriate user experience for trust<br>
authentication will be highly deployer-specific in consideration of local policy<br>
and of the logistics of the particular authentication mechanism implemented.</p>
<p>When <code>/login</code> behaves as a credential requestor for trust authentication, its<br>
behavior will be determined by the type of credentials it will be receiving. If<br>
the credentials are valid, CAS MAY transparently redirect the user to the<br>
service. Alternately, CAS MAY display a warning that credentials were presented<br>
and allow the client to confirm that it wants to use those credentials. It is<br>
RECOMMENDED that CAS implementations allow the deployer to choose the preferred<br>
behavior. If the credentials are invalid or non-existent, it is RECOMMENDED that<br>
CAS displays to the client the reason why authentication failed, and possibly present<br>
the user with alternate means of authentication (e.g. username/password<br>
authentication).</p>
<!-- raw HTML omitted -->
<h3>
<a id="215-response-for-single-sign-on-authentication" class="anchor" href="#215-response-for-single-sign-on-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.1.5. response for single sign-on authentication</strong>
</h3>
<p>If the client has already established a single sign-on session with CAS, the<br>
client will have presented its HTTP session cookie to <code>/login</code> and behavior will<br>
be handled as in Section <a href="#head2.2.4">2.2.4</a>. However, if the <code>renew</code> parameter<br>
is set, the behavior will be handled as in Section <a href="#head2.1.3">2.1.3</a> or<br>
<a href="#head2.1.4">2.1.4</a>.</p>
<!-- raw HTML omitted -->
<h2>
<a id="22-login-as-credential-acceptor" class="anchor" href="#22-login-as-credential-acceptor" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.2. /login as credential acceptor</strong>
</h2>
<p>When a set of accepted credentials are passed to <code>/login</code>, <code>/login</code> acts as a<br>
credential acceptor and its behavior is defined in this Section.</p>
<!-- raw HTML omitted -->
<h3>
<a id="221-parameters-common-to-all-types-of-authentication" class="anchor" href="#221-parameters-common-to-all-types-of-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.2.1. parameters common to all types of authentication</strong>
</h3>
<p>The following HTTP request parameters MAY be passed to <code>/login</code> while it is acting<br>
as a credential acceptor. They are all case-sensitive and they all MUST be<br>
handled by <code>/login</code>.</p>
<ul>
<li>
<p><code>service</code> [OPTIONAL] - the URL of the application the client is trying to<br>
access. As a HTTP request parameter, this URL value MUST be URL-encoded as<br>
described in Section 2.2 of RFC 1738 [<a href="#4">4</a>]. CAS MUST redirect the<br>
client to this URL upon successful authentication. This is discussed in<br>
detail in Section <a href="#head2.2.4">2.2.4</a>. If the CAS Server operates in<br>
non-open mode (Service URLs allowed to use the CAS Server are registered<br>
within the CAS Server), the CAS Server MUST deny operation and print out<br>
a meaningful message if a non-authorized service URL is presented.</p>
<blockquote>
<p>Note: It is STRONGLY RECOMMENDED that all <code>service</code> urls be filtered via<br>
the service management tool, such that only authorized and known<br>
client applications would be able to use the CAS server.<br>
Leaving the service management tool open to allow lenient access to<br>
all applications will potentially increase the risk of service attacks<br>
and other security vulnerabilities. Furthermore, it is RECOMMENDED that<br>
only secure protocols such as <code>https</code> be allowed for client applications<br>
for further strengthen the authenticating client.</p>
</blockquote>
</li>
<li>
<p><code>warn</code> [OPTIONAL] - if this parameter is set, single sign-on MUST NOT be<br>
transparent. The client MUST be prompted before being authenticated to<br>
another service.</p>
</li>
<li>
<p><code>method</code> [OPTIONAL] - The <code>method</code> to be used when sending responses. See<br>
section <a href="#head2.1.1">2.1.1</a> for details</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h3>
<a id="222-parameters-for-usernamepassword-authentication" class="anchor" href="#222-parameters-for-usernamepassword-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.2.2. parameters for username/password authentication</strong>
</h3>
<p>In addition to the OPTIONAL parameters specified in Section <a href="#head2.2.1">2.2.1</a>,<br>
the following HTTP request parameters MUST be passed to <code>/login</code> while it is<br>
acting as a credential acceptor for username/password authentication. They are<br>
all case-sensitive.</p>
<ul>
<li>
<p><code>username</code> [REQUIRED] - the username of the client that is trying to log in</p>
</li>
<li>
<p><code>password</code> [REQUIRED] - the password of the client that is trying to log in</p>
</li>
<li>
<p><code>lt</code> [OPTIONAL] - a login ticket. This is provided as part of the login form<br>
discussed in Section <a href="#head2.1.3">2.1.3</a>. The login ticket itself is discussed<br>
in Section <a href="#head3.5">3.5</a>.</p>
</li>
<li>
<p><code>rememberMe</code> [OPTIONAL, CAS 3.0] - if this parameter is set, a Long-Term<br>
Ticket Granting Ticket might be created by the CAS server (referred to as<br>
Remember-Me support). It is subject to the CAS server configuration whether<br>
Long-Term Ticket Granting Tickets are supported or not.</p>
</li>
</ul>
<blockquote>
<p>Note: When Long-Term Ticket Granting Tickets (Remember Me) are supported by<br>
the CAS Server, security considerations MUST be taken into account. This for<br>
example includes shared computer usage. On CAS client systems it might be<br>
necessary to handle Remember-Me logins different. See Section<br>
<a href="#head4.1">4.1</a> for details.</p>
</blockquote>
<!-- raw HTML omitted -->
<h3>
<a id="223-parameters-for-trust-authentication" class="anchor" href="#223-parameters-for-trust-authentication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.2.3. parameters for trust authentication</strong>
</h3>
<p>There are no REQUIRED HTTP request parameters for trust authentication. Trust<br>
authentication MAY be based on any aspect of the HTTP request.</p>
<!-- raw HTML omitted -->
<h3>
<a id="224-response" class="anchor" href="#224-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.2.4. response</strong>
</h3>
<p>One of the following responses MUST be provided by <code>/login</code> when it is operating<br>
as a credential acceptor.</p>
<ul>
<li>
<p>successful login: redirect the client to the URL specified by the <code>service</code><br>
parameter in a manner that will not cause the client's credentials to be<br>
forwarded to the <code>service</code>. This redirection MUST result in the client issuing<br>
a GET request to the <code>service</code>. The request MUST include a valid service<br>
ticket, passed as the HTTP request parameter, "ticket". See <a href="#head_appdx_b">Appendix<br>
B</a> for more information. If <code>service</code> was not specified,<br>
CAS MUST display a message notifying the client that it has successfully<br>
initiated a single sign-on session.</p>
</li>
<li>
<p>failed login: return to <code>/login</code> as a credential requestor. It is RECOMMENDED<br>
in this case that the CAS server display an error message to the user<br>
describing why login failed (e.g. bad password, locked account, etc.),<br>
and if appropriate, provide an opportunity for the user to attempt to<br>
login again.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h2>
<a id="23-logout" class="anchor" href="#23-logout" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.3. /logout</strong>
</h2>
<p><code>/logout</code> destroys a client's single sign-on CAS session. The ticket-granting<br>
cookie (Section <a href="#head3.6">3.6</a>) is destroyed, and subsequent requests to <code>/login</code> will not<br>
obtain service tickets until the user again presents primary credentials (and<br>
thereby establishes a new single sign-on session).</p>
<!-- raw HTML omitted -->
<h3>
<a id="231-parameters" class="anchor" href="#231-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.3.1. parameters</strong>
</h3>
<p>The following HTTP request parameter MAY be specified to <code>/logout</code>. It is case<br>
sensitive and SHOULD be handled by <code>/logout</code>.</p>
<ul>
<li>
<p><code>service</code> [OPTIONAL, CAS 3.0] - if a <code>service</code> parameter is specified, the<br>
browser might be automatically redirected to the URL specified by <code>service</code><br>
after the logout was performed by the CAS server. If redirection by the<br>
CAS Server is actually performed depends on the server configuration.<br>
As a HTTP request parameter, the <code>service</code> value MUST be URL-encoded as<br>
described in Section 2.2 of RFC 1738 [<a href="#4">4</a>].</p>
<blockquote>
<p>Note: It is STRONGLY RECOMMENDED that all <code>service</code> urls be filtered via<br>
the service management tool, such that only authorized and known<br>
client applications would be able to use the CAS server.<br>
Leaving the service management tool open to allow lenient access to<br>
all applications will potentially increase the risk of service attacks<br>
and other security vulnerabilities. Furthermore, it is RECOMMENDED that<br>
only secure protocols such as <code>https</code> be allowed for client applications<br>
for further strengthen the authenticating client.</p>
</blockquote>
<blockquote>
<p>Note: The <code>url</code> parameter defined in the former CAS 2.0 specification is<br>
not a valid parameter in CAS 3.0 anymore. CAS Servers MUST ignore given<br>
<code>url</code> parameters.<br>
A CAS client MAY provide the <code>service</code> parameter as described above,<br>
as this ensures the parameter is validated against the registered service<br>
URLs when operating in non-open mode. See <a href="#head2.3.2">2.3.2</a> for details.</p>
</blockquote>
</li>
</ul>
<!-- raw HTML omitted -->
<h3>
<a id="232-response" class="anchor" href="#232-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.3.2. response</strong>
</h3>
<p>[CAS 1.0, CAS 2.0] <code>/logout</code> MUST display a page stating that the user has been<br>
logged out. If the "url" request parameter is implemented, <code>/logout</code> SHOULD also<br>
provide a link to the provided URL as described in Section <a href="#head2.3.1">2.3.1</a>.</p>
<p>[CAS 3.0] <code>/logout</code> MUST display a page stating that the user has been logged out<br>
if no <code>service</code> parameter was provided. If a <code>service</code> request parameter with an<br>
encoded URL value is provided, the CAS server redirects to the given service URL<br>
after successful logout.</p>
<blockquote>
<p>Note: When CAS Server operates in non-open mode (allowed Service URLs are<br>
registered within the CAS Server), the CAS server MUST ensure that only<br>
registered [service] parameter Service URLs are accepted for redirection.<br>
The <code>url</code> parameter defined in the former CAS 2.0 specification is<br>
not a valid parameter in CAS 3.0 anymore. CAS Servers MUST ignore given<br>
<code>url</code> parameters.</p>
</blockquote>
<!-- raw HTML omitted -->
<h3>
<a id="233-single-logout" class="anchor" href="#233-single-logout" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.3.3 Single Logout</strong>
</h3>
<p>The CAS Server MAY support Single Logout (SLO). SLO means that the user gets<br>
logged out not only from the CAS Server, but also from all visited CAS client<br>
applications. If SLO is supported by the CAS Server, the CAS Server MUST send a<br>
HTTP POST request containing a logout XML document (see <a href="#head_appdx_c">Appendix<br>
C</a>) to all service URLs provided to CAS during this CAS session<br>
whenever a Ticket Granting Ticket is explicitly expired by the user (e.g. during logout).<br>
CAS Clients that do not support the SLO POST requests MUST ignore these requests.<br>
SLO requests MAY also be initiated by the CAS Server upon TGT idle timeout.</p>
<!-- raw HTML omitted -->
<h4>
<a id="2331-server-behaviour" class="anchor" href="#2331-server-behaviour" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.3.3.1 Server behaviour</strong>
</h4>
<p>The CAS Server SHALL ignore all errors that might occur on a Single Logout POST<br>
request to CAS Client applications service URLs. This ensures that any errors<br>
while sending the POST request do not disturb CAS Server performance and<br>
availability ("fire and forget").</p>
<!-- raw HTML omitted -->
<h4>
<a id="2332-client-behaviour" class="anchor" href="#2332-client-behaviour" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.3.3.2 Client behaviour</strong>
</h4>
<p>Handling the logout POST request data is up to the CAS client. It is RECOMMENDED<br>
to logout the user from the application identified by the service ticket id sent<br>
in the SLO POST request.<br>
If the client supports SLO POST request handling, the client SHALL return a HTTP success<br>
status code.</p>
<!-- raw HTML omitted -->
<h2>
<a id="24-validate-cas-10" class="anchor" href="#24-validate-cas-10" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.4. /validate [CAS 1.0]</strong>
</h2>
<p><code>/validate</code> checks the validity of a service ticket. <code>/validate</code> is part of the CAS<br>
1.0 protocol and thus does not handle proxy authentication. CAS MUST respond<br>
with a ticket validation failure response when a proxy ticket is passed to<br>
<code>/validate</code>.</p>
<!-- raw HTML omitted -->
<h3>
<a id="241-parameters" class="anchor" href="#241-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.4.1. parameters</strong>
</h3>
<p>The following HTTP request parameters MAY be specified to <code>/validate</code>. They are<br>
case sensitive and MUST all be handled by <code>/validate</code>.</p>
<ul>
<li>
<p><code>service</code> [REQUIRED] - the identifier of the service for which the ticket was<br>
issued, as discussed in Section 2.2.1.<br>
As a HTTP request parameter, the <code>service</code> value MUST be URL-encoded as<br>
described in Section 2.2 of RFC 1738 [<a href="#4">4</a>].</p>
<blockquote>
<p>Note: It is STRONGLY RECOMMENDED that all <code>service</code> urls be filtered via<br>
the service management tool, such that only authorized and known<br>
client applications would be able to use the CAS server.<br>
Leaving the service management tool open to allow lenient access to<br>
all applications will potentially increase the risk of service attacks<br>
and other security vulnerabilities. Furthermore, it is RECOMMENDED that<br>
only secure protocols such as <code>https</code> be allowed for client applications<br>
for further strengthen the authenticating client.</p>
</blockquote>
</li>
<li>
<p><code>ticket</code> [REQUIRED] - the service ticket issued by <code>/login</code>. Service tickets are<br>
described in Section 3.1.</p>
</li>
<li>
<p><code>renew</code> [OPTIONAL] - if this parameter is set, ticket validation will only<br>
succeed if the service ticket was issued from the presentation of the user's<br>
primary credentials. It will fail if the ticket was issued from a single<br>
sign-on session.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h3>
<a id="242-response" class="anchor" href="#242-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.4.2. response</strong>
</h3>
<p><code>/validate</code> will return one of the following two responses:</p>
<p>On ticket validation success:</p>
<p>yes&lt;LF&gt;username&lt;LF&gt;</p>
<p>On ticket validation failure:</p>
<p>no&lt;LF&gt;</p>
<!-- raw HTML omitted -->
<h3>
<a id="243-url-examples-of-validate" class="anchor" href="#243-url-examples-of-validate" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.4.3. URL examples of /validate</strong>
</h3>
<p>Simple validation attempt:</p>
<p><code>https://cas.example.org/cas/validate?service=http%3A%2F%2Fwww.example.org%2Fservice&amp;ticket=ST-1856339-aA5Yuvrxzpv8Tau1cYQ7</code></p>
<p>Ensure service ticket was issued by presentation of primary credentials:</p>
<p><code>https://cas.example.org/cas/validate?service=http%3A%2F%2Fwww.example.org%2Fservice&amp;ticket=ST-1856339-aA5Yuvrxzpv8Tau1cYQ7&amp;renew=true</code></p>
<!-- raw HTML omitted -->
<h2>
<a id="25-servicevalidate-cas-20" class="anchor" href="#25-servicevalidate-cas-20" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.5. /serviceValidate [CAS 2.0]</strong>
</h2>
<p><code>/serviceValidate</code> checks the validity of a service ticket and returns an XML-fragment response.<br>
<code>/serviceValidate</code> MUST also generate and issue proxy-granting tickets when requested.<br>
<code>/serviceValidate</code> MUST NOT return a successful authentication if it receives a proxy ticket.<br>
It is RECOMMENDED that if <code>/serviceValidate</code> receives a proxy ticket, the error message in the XML<br>
response SHOULD explain that validation failed because a proxy ticket was passed<br>
to <code>/serviceValidate</code>.</p>
<!-- raw HTML omitted -->
<h3>
<a id="251-parameters" class="anchor" href="#251-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.5.1. parameters</strong>
</h3>
<p>The following HTTP request parameters MAY be specified to <code>/serviceValidate</code>. They<br>
are case sensitive and MUST all be handled by <code>/serviceValidate</code>.</p>
<ul>
<li>
<p><code>service</code> [REQUIRED] - the identifier of the service for which the ticket was<br>
issued, as discussed in Section <a href="#head2.2.1">2.2.1</a>.<br>
As a HTTP request parameter, the <code>service</code> value MUST be URL-encoded as<br>
described in Section 2.2 of RFC 1738 [<a href="#4">4</a>].</p>
<blockquote>
<p>Note: It is STRONGLY RECOMMENDED that all <code>service</code> urls be filtered via<br>
the service management tool, such that only authorized and known<br>
client applications would be able to use the CAS server.<br>
Leaving the service management tool open to allow lenient access to<br>
all applications will potentially increase the risk of service attacks<br>
and other security vulnerabilities. Furthermore, it is RECOMMENDED that<br>
only secure protocols such as <code>https</code> be allowed for client applications<br>
for further strengthen the authenticating client.</p>
</blockquote>
</li>
<li>
<p><code>ticket</code> [REQUIRED] - the service ticket issued by <code>/login</code>. Service tickets are<br>
described in Section <a href="#head3.1">3.1</a>.</p>
</li>
<li>
<p><code>pgtUrl</code> [OPTIONAL] - the URL of the proxy callback. Discussed in Section<br>
<a href="#head2.5.4">2.5.4</a>.<br>
As a HTTP request parameter, the "pgtUrl" value MUST be URL-encoded as<br>
described in Section 2.2 of RFC 1738 [<a href="#4">4</a>].</p>
</li>
<li>
<p><code>renew</code> [OPTIONAL] - if this parameter is set, ticket validation will only<br>
succeed if the service ticket was issued from the presentation of the user's<br>
primary credentials. It will fail if the ticket was issued from a single<br>
sign-on session.</p>
</li>
<li>
<p><code>format</code> [OPTIONAL] - if this parameter is set, ticket validation response<br>
MUST be produced based on the parameter value. Supported values are <code>XML</code><br>
and <code>JSON</code>. If this parameter is not set, the default <code>XML</code> format will be used.<br>
If the parameter value is not supported by the CAS server, an error code<br>
MUST be returned as is described in section <a href="#head2.5.3">2.5.3</a>.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h3>
<a id="252-response" class="anchor" href="#252-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.5.2. response</strong>
</h3>
<p><code>/serviceValidate</code> will return an XML-formatted CAS serviceResponse as described<br>
in the XML schema in <a href="#head_appdx_a">Appendix A</a>. Below are example responses:</p>
<p><strong>On ticket validation success:</strong></p>
<pre lang="xml"><code>&lt;cas:serviceResponse xmlns:cas="http://www.yale.edu/tp/cas"&gt;
 &lt;cas:authenticationSuccess&gt;
  &lt;cas:user&gt;username&lt;/cas:user&gt;
  &lt;cas:proxyGrantingTicket&gt;PGTIOU-84678-8a9d...&lt;/cas:proxyGrantingTicket&gt;
 &lt;/cas:authenticationSuccess&gt;
&lt;/cas:serviceResponse&gt;
</code></pre>
<pre lang="json"><code>{
  "serviceResponse" : {
    "authenticationSuccess" : {
      "user" : "username",
      "proxyGrantingTicket" : "PGTIOU-84678-8a9d..."
    }
  }
}
</code></pre>
<p><strong>On ticket validation failure:</strong></p>
<pre lang="xml"><code>&lt;cas:serviceResponse xmlns:cas="http://www.yale.edu/tp/cas"&gt;
 &lt;cas:authenticationFailure code="INVALID_TICKET"&gt;
    Ticket ST-1856339-aA5Yuvrxzpv8Tau1cYQ7 not recognized
  &lt;/cas:authenticationFailure&gt;
&lt;/cas:serviceResponse&gt;
</code></pre>
<pre lang="json"><code>{
  "serviceResponse" : {
    "authenticationFailure" : {
      "code" : "INVALID_TICKET",
      "description" : "Ticket ST-1856339-aA5Yuvrxzpv8Tau1cYQ7 not recognized"
    }
  }
}
</code></pre>
<p>For proxy responses, see section <a href="#head2.6.2">2.6.2</a>.</p>
<!-- raw HTML omitted -->
<h3>
<a id="253-error-codes" class="anchor" href="#253-error-codes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.5.3. error codes</strong>
</h3>
<p>The following values MAY be used as the "code" attribute of authentication<br>
failure responses. The following is the minimum set of error codes that all CAS<br>
servers MUST implement. Implementations MAY include others.</p>
<ul>
<li>
<p><code>INVALID_REQUEST</code> - not all of the required request parameters were present</p>
</li>
<li>
<p><code>INVALID_TICKET_SPEC</code> - failure to meet the requirements of validation specification</p>
</li>
<li>
<p><code>UNAUTHORIZED_SERVICE_PROXY</code> - the service is not authorized to perform proxy authentication</p>
</li>
<li>
<p><code>INVALID_PROXY_CALLBACK</code> - The proxy callback specified is invalid. The credentials specified<br>
for proxy authentication do not meet the security requirements</p>
</li>
<li>
<p><code>INVALID_TICKET</code> - the ticket provided was not valid, or the ticket did not<br>
come from an initial login and <code>renew</code> was set on validation. The body of<br>
the <code>&lt;cas:authenticationFailure&gt;</code> block of the XML response SHOULD describe<br>
the exact details.</p>
</li>
<li>
<p><code>INVALID_SERVICE</code> - the ticket provided was valid, but the service specified<br>
did not match the service associated with the ticket. CAS MUST invalidate<br>
the ticket and disallow future validation of that same ticket.</p>
</li>
<li>
<p><code>INTERNAL_ERROR</code> - an internal error occurred during ticket validation</p>
</li>
</ul>
<p>For all error codes, it is RECOMMENDED that CAS provide a more detailed message<br>
as the body of the <code>&lt;cas:authenticationFailure&gt;</code> block of the XML response.</p>
<!-- raw HTML omitted -->
<h3>
<a id="254-proxy-callback" class="anchor" href="#254-proxy-callback" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.5.4. proxy callback</strong>
</h3>
<p>If a service wishes to proxy a client's authentication to a back-end service, it<br>
must acquire a proxy-granting ticket (PGT). Acquisition of this ticket is handled<br>
through a proxy callback URL. This URL will uniquely and securely identify the<br>
service that is proxying the client's authentication. The back-end service can<br>
then decide whether or not to accept the credentials based on the proxying<br>
service identifying callback URL.</p>
<p>The proxy callback mechanism works as follows:</p>
<ol>
<li>
<p>The service that is requesting a proxy-granting ticket (PGT) specifies upon<br>
initial service ticket or proxy ticket validation the HTTP request parameter<br>
"pgtUrl" to <code>/serviceValidate</code> (or <code>/proxyValidate</code>). This is a callback URL of<br>
the service to which CAS will connect to verify the service's identity. This<br>
URL MUST be HTTPS and CAS MUST evaluate the endpoint to establish peer trust.<br>
Building trust at a minimum involves utilizing PKIX and employing container trust to<br>
validate the signature, chain and the expiration window of the certificate of the<br>
callback url. The generation of the proxy-granting-ticket or the corresponding<br>
proxy granting ticket IOU may fail due to the proxy callback url failing to meet the minimum<br>
security requirements such as failure to establishing trust between peers or unresponsiveness<br>
of the endpoint, etc. In case of failure, no proxy-granting ticket will be issued and the CAS<br>
service response as described in Section <a href="#head2.5.2">2.5.2</a> MUST NOT contain a<br>
<code>&lt;proxyGrantingTicket&gt;</code> block. At this point, the issuance of a<br>
proxy-granting ticket is halted and service ticket validation will<br>
fail. Otherwise, the process will proceed normally to step 2.</p>
</li>
<li>
<p>CAS uses an HTTP GET request to pass the HTTP request parameters <code>pgtId</code> and<br>
<code>pgtIou</code> to the pgtUrl endpoint. These entities are discussed in Sections <a href="#head3.3">3.3</a> and<br>
<a href="#head3.4">3.4</a>, respectively. If the proxy callback url specifies any parameters, those<br>
MUST be preserved. CAS MUST also ensure that the endpoint is reachable by verifying<br>
the response HTTP status code from the GET request, as detailed in step #3. If the<br>
proxy service fails to authenticate or the endpoint responds with an unacceptable status<br>
code, proxy authentication MUST fail and CAS MUST respond with the appropriate error code<br>
as is described in section <a href="#head2.5.3">2.5.3</a>.</p>
</li>
<li>
<p>If the HTTP GET returns an HTTP status code of 200 (OK), CAS MUST respond to<br>
the <code>/serviceValidate</code> (or <code>/proxyValidate</code>) request with a service response<br>
(Section <a href="#head2.5.2">2.5.2</a>) containing the proxy-granting ticket IOU (Section <a href="#head3.4">3.4</a>)<br>
within the <code>&lt;cas:proxyGrantingTicket&gt;</code> block. If the HTTP GET returns any<br>
other status code, except HTTP 3xx redirects, CAS MUST respond to the<br>
<code>/serviceValidate</code> (or <code>/proxyValidate</code>) request with a service response that<br>
MUST NOT contain a <code>&lt;cas:proxyGrantingTicket&gt;</code> block. CAS MAY follow any HTTP<br>
redirects issued by the <code>pgtUrl</code>. However, the identifying callback URL<br>
provided upon validation in the <code>&lt;proxy&gt;</code> block MUST be the same URL that was<br>
initially passed to <code>/serviceValidate</code> (or <code>/proxyValidate</code>) as the <code>pgtUrl</code><br>
parameter.</p>
</li>
<li>
<p>The service, having received a proxy-granting ticket IOU in the CAS<br>
response, and both a proxy-granting ticket and a proxy-granting ticket IOU<br>
from the proxy callback, will use the proxy-granting ticket IOU to correlate<br>
the proxy-granting ticket with the validation response. The service will<br>
then use the proxy-granting ticket for the acquisition of proxy tickets as<br>
described in Section <a href="#head2.7">2.7</a>.</p>
</li>
</ol>
<!-- raw HTML omitted -->
<h3>
<a id="255-attributes-cas-30" class="anchor" href="#255-attributes-cas-30" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.5.5. attributes [CAS 3.0]</strong>
</h3>
<p>[CAS 3.0] The response document MAY include an optional <a href="cas:attributes">cas:attributes</a><br>
element for additional authentication and/or user attributes. See<br>
<a href="#head_appdx_a">Appendix A</a> for details.</p>
<!-- raw HTML omitted -->
<h3>
<a id="256-url-examples-of-servicevalidate" class="anchor" href="#256-url-examples-of-servicevalidate" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.5.6. URL examples of /serviceValidate</strong>
</h3>
<p>Simple validation attempt:</p>
<p><code>https://cas.example.org/cas/serviceValidate?service=http%3A%2F%2Fwww.example.org%2Fservice&amp;ticket=ST-1856339-aA5Yuvrxzpv8Tau1cYQ7</code></p>
<p>Ensure service ticket was issued by presentation of primary credentials:</p>
<p><code>https://cas.example.org/cas/serviceValidate?service=http%3A%2F%2Fwww.example.org%2Fservice&amp;ticket=ST-1856339-aA5Yuvrxzpv8Tau1cYQ7&amp;renew=true </code></p>
<p>Pass in a callback URL for proxying:</p>
<p><code>https://cas.example.org/cas/serviceValidate?service=http%3A%2F%2Fwww.example.org%2Fservice&amp;ticket=ST-1856339-aA5Yuvrxzpv8Tau1cYQ7&amp;pgtUrl=https://www.example.org%2Fservice%2FproxyCallback</code></p>
<!-- raw HTML omitted -->
<h3>
<a id="257-example-response-with-custom-attributes" class="anchor" href="#257-example-response-with-custom-attributes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.5.7 Example response with custom attributes</strong>
</h3>
<pre lang="xml"><code>  &lt;cas:serviceResponse xmlns:cas="http://www.yale.edu/tp/cas"&gt;
    &lt;cas:authenticationSuccess&gt;
      &lt;cas:user&gt;username&lt;/cas:user&gt;
      &lt;cas:attributes&gt;
        &lt;cas:firstname&gt;John&lt;/cas:firstname&gt;
        &lt;cas:lastname&gt;Doe&lt;/cas:lastname&gt;
        &lt;cas:title&gt;Mr.&lt;/cas:title&gt;
        &lt;cas:email&gt;jdoe@example.org&lt;/cas:email&gt;
        &lt;cas:affiliation&gt;staff&lt;/cas:affiliation&gt;
        &lt;cas:affiliation&gt;faculty&lt;/cas:affiliation&gt;
      &lt;/cas:attributes&gt;
      &lt;cas:proxyGrantingTicket&gt;PGTIOU-84678-8a9d...&lt;/cas:proxyGrantingTicket&gt;
    &lt;/cas:authenticationSuccess&gt;
  &lt;/cas:serviceResponse&gt;
</code></pre>
<pre lang="json"><code>{
  "serviceResponse" : {
    "authenticationSuccess" : {
      "user" : "username",
      "proxyGrantingTicket" : "PGTIOU-84678-8a9d...",
      "proxies" : [ "https://proxy1/pgtUrl", "https://proxy2/pgtUrl" ],
      "attributes" : {
        "firstName" : "John",
        "affiliation" : [ "staff", "faculty" ],
        "title" : "Mr.",
        "email" : "jdoe@example.orgmailto:jdoe@example.org",
        "lastname" : "Doe"
      }
    }
  }
}
</code></pre>
<!-- raw HTML omitted -->
<h2>
<a id="26-proxyvalidate-cas-20" class="anchor" href="#26-proxyvalidate-cas-20" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.6. /proxyValidate [CAS 2.0]</strong>
</h2>
<p><code>/proxyValidate</code> MUST perform the same validation tasks as <code>/serviceValidate</code> and<br>
additionally validate proxy tickets. <code>/proxyValidate</code> MUST be capable of<br>
validating both service tickets and proxy tickets. See Section<br>
<a href="#head2.5.4">2.5.4</a> for details.</p>
<!-- raw HTML omitted -->
<h3>
<a id="261-parameters" class="anchor" href="#261-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.6.1. parameters</strong>
</h3>
<p><code>/proxyValidate</code> has the same parameter requirements as <code>/serviceValidate</code>. See<br>
Section <a href="#head2.5.1">2.5.1</a>.</p>
<!-- raw HTML omitted -->
<h3>
<a id="262-response" class="anchor" href="#262-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.6.2. response</strong>
</h3>
<p><code>/proxyValidate</code> will return an XML-formatted CAS serviceResponse as described in<br>
the XML schema in <a href="#head_appdx_a">Appendix A</a>. Below are example responses:</p>
<p>Response on ticket validation success:</p>
<pre lang="xml"><code>  &lt;cas:serviceResponse xmlns:cas="http://www.yale.edu/tp/cas"&gt;
    &lt;cas:authenticationSuccess&gt;
      &lt;cas:user&gt;username&lt;/cas:user&gt;
      &lt;cas:proxyGrantingTicket&gt;PGTIOU-84678-8a9d...&lt;/cas:proxyGrantingTicket&gt;
      &lt;cas:proxies&gt;
        &lt;cas:proxy&gt;https://proxy2/pgtUrl&lt;/cas:proxy&gt;
        &lt;cas:proxy&gt;https://proxy1/pgtUrl&lt;/cas:proxy&gt;
      &lt;/cas:proxies&gt;
    &lt;/cas:authenticationSuccess&gt;
  &lt;/cas:serviceResponse&gt;
</code></pre>
<pre lang="json"><code>{
  "serviceResponse" : {
    "authenticationSuccess" : {
      "user" : "username",
      "proxyGrantingTicket" : "PGTIOU-84678-8a9d...",
      "proxies" : [ "https://proxy1/pgtUrl", "https://proxy2/pgtUrl" ]
    }
  }
}
</code></pre>
<blockquote>
<p>Note: when authentication has proceeded through multiple proxies, the order<br>
in which the proxies were traversed MUST be reflected in the <a href="cas:proxies">cas:proxies</a><br>
block. The most recently-visited proxy MUST be the first proxy listed, and<br>
all the other proxies MUST be shifted down as new proxies are added. In the<br>
above example, the service identified by <a href="https://proxy1/pgtUrl">https://proxy1/pgtUrl</a> was<br>
visited first, and that service proxied authentication to the service<br>
identified by <a href="https://proxy2/pgtUrl">https://proxy2/pgtUrl</a>.</p>
</blockquote>
<p>Response on ticket validation failure:</p>
<pre lang="xml"><code>  &lt;cas:serviceResponse xmlns:cas='http://www.yale.edu/tp/cas'&gt;
      &lt;cas:authenticationFailure code="INVALID_TICKET"&gt;
         ticket PT-1856376-1HMgO86Z2ZKeByc5XdYD not recognized
      &lt;/cas:authenticationFailure&gt;
  &lt;/cas:serviceResponse&gt;
</code></pre>
<pre lang="json"><code>{
  "serviceResponse" : {
    "authenticationFailure" : {
      "code" : "INVALID_TICKET",
      "description" : "Ticket PT-1856339-aA5Yuvrxzpv8Tau1cYQ7 not recognized"
    }
  }
}
</code></pre>
<!-- raw HTML omitted -->
<h3>
<a id="263-error-codes" class="anchor" href="#263-error-codes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.6.3 error codes</strong>
</h3>
<p>See section <a href="#head2.5.3">2.5.3</a></p>
<!-- raw HTML omitted -->
<h3>
<a id="264-url-examples-of-proxyvalidate" class="anchor" href="#264-url-examples-of-proxyvalidate" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.6.4 URL examples of /proxyValidate</strong>
</h3>
<p><code>/proxyValidate</code> accepts the same parameters as <code>/serviceValidate</code>. See Section<br>
<a href="#head2.5.5">2.5.5</a> for use examples, substituting "proxyValidate" for<br>
"serviceValidate".</p>
<!-- raw HTML omitted -->
<h2>
<a id="27-proxy-cas-20" class="anchor" href="#27-proxy-cas-20" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.7. /proxy [CAS 2.0]</strong>
</h2>
<p><code>/proxy</code> provides proxy tickets to services that have acquired proxy-granting<br>
tickets and will be proxying authentication to back-end services.</p>
<!-- raw HTML omitted -->
<h3>
<a id="271-parameters" class="anchor" href="#271-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.7.1. parameters</strong>
</h3>
<p>The following HTTP request parameters MUST be specified to <code>/proxy</code>. They are both<br>
case-sensitive.</p>
<ul>
<li>
<code>pgt</code> [REQUIRED] - the proxy-granting ticket acquired by the service during<br>
service ticket or proxy ticket validation.</li>
<li>
<code>targetService</code> [REQUIRED] - the service identifier of the back-end service.<br>
Note that not all back-end services are web services so this service identifier<br>
will not always be an URL. However, the service identifier specified here<br>
MUST match the <code>service</code> parameter specified to <code>/proxyValidate</code> upon validation<br>
of the proxy ticket.</li>
</ul>
<!-- raw HTML omitted -->
<h3>
<a id="272-response" class="anchor" href="#272-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.7.2. response</strong>
</h3>
<p><code>/proxy</code> will return an XML-formatted CAS serviceResponse document as described in the XML<br>
schema in <a href="#head_appdx_a">Appendix A</a>. Below are example responses:</p>
<p>Response on request success:</p>
<pre lang="xml"><code>  &lt;cas:serviceResponse xmlns:cas="http://www.yale.edu/tp/cas"&gt;
      &lt;cas:proxySuccess&gt;
          &lt;cas:proxyTicket&gt;PT-1856392-b98xZrQN4p90ASrw96c8&lt;/cas:proxyTicket&gt;
      &lt;/cas:proxySuccess&gt;
  &lt;/cas:serviceResponse&gt;
</code></pre>
<p>Response on request failure:</p>
<pre lang="xml"><code>&lt;cas:serviceResponse xmlns:cas="http://www.yale.edu/tp/cas"&gt;
      &lt;cas:proxyFailure code="INVALID_REQUEST"&gt;
          'pgt' and 'targetService' parameters are both required
      &lt;/cas:proxyFailure&gt;
  &lt;/cas:serviceResponse&gt;
</code></pre>
<pre lang="json"><code>{
  "serviceResponse" : {
    "authenticationFailure" : {
      "code" : "INVALID_REQUEST",
      "description" : "'pgt' and 'targetService' parameters are both required"
    }
  }
}
</code></pre>
<!-- raw HTML omitted -->
<h3>
<a id="273-error-codes" class="anchor" href="#273-error-codes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.7.3. error codes</strong>
</h3>
<p>The following values MAY be used as the <code>code</code> attribute of authentication<br>
failure responses. The following is the minimum set of error codes that all CAS<br>
servers MUST implement. Implementations MAY include others.</p>
<ul>
<li>
<p><code>INVALID_REQUEST</code> - not all of the required request parameters were present</p>
</li>
<li>
<p><code>UNAUTHORIZED_SERVICE</code> - service is unauthorized to perform the proxy request</p>
</li>
<li>
<p><code>INTERNAL_ERROR</code> - an internal error occurred during ticket validation</p>
</li>
</ul>
<p>For all error codes, it is RECOMMENDED that CAS provide a more detailed message<br>
as the body of the <a href="cas:authenticationFailure">cas:authenticationFailure</a> block of the XML response.</p>
<!-- raw HTML omitted -->
<h3>
<a id="274-url-example-of-proxy" class="anchor" href="#274-url-example-of-proxy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.7.4. URL example of /proxy</strong>
</h3>
<p>Simple proxy request:</p>
<p><code>https://server/cas/proxy?targetService=http%3A%2F%2Fwww.service.com&amp;pgt=PGT-490649-W81Y9Sa2vTM7hda7xNTkezTbVge4CUsybAr</code></p>
<!-- raw HTML omitted -->
<h3>
<a id="274-service-ticket-lifecycle-implications" class="anchor" href="#274-service-ticket-lifecycle-implications" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.7.4 Service Ticket Lifecycle implications</strong>
</h3>
<p>The CAS Server implementation MAY update the parent Service Ticket (ST) lifetime upon proxy ticket generation.</p>
<h2>
<a id="28-p3servicevalidate-cas-30" class="anchor" href="#28-p3servicevalidate-cas-30" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.8. /p3/serviceValidate [CAS 3.0]</strong>
</h2>
<p><code>/p3/serviceValidate</code> MUST perform the same validation tasks as <code>/serviceValidate</code> and<br>
additionally return user attributes in the CAS response. See<br>
Section <a href="#head2.5">2.5</a> and Section <a href="#head2.5.7">2.5.7</a> for details.</p>
<!-- raw HTML omitted -->
<h3>
<a id="281-parameters" class="anchor" href="#281-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.8.1. parameters</strong>
</h3>
<p><code>/p3/serviceValidate</code> has the same parameter requirements as <code>/serviceValidate</code>. See<br>
Section <a href="#head2.5.1">2.5.1</a>.</p>
<h2>
<a id="29-p3proxyvalidate-cas-30" class="anchor" href="#29-p3proxyvalidate-cas-30" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.9. /p3/proxyValidate [CAS 3.0]</strong>
</h2>
<p><code>/p3/proxyValidate</code> MUST perform the same validation tasks as <code>/p3/serviceValidate</code> and<br>
additionally validate proxy tickets. See Section <a href="#head2.5">2.8</a>.</p>
<!-- raw HTML omitted -->
<h3>
<a id="291-parameters" class="anchor" href="#291-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>2.9.1. parameters</strong>
</h3>
<p><code>/p3/proxyValidate</code> has the same parameter requirements as <code>/p3/serviceValidate</code>. See<br>
Section <a href="#head2.8.1">2.8.1</a>.</p>
<h1>
<a id="3-cas-entities" class="anchor" href="#3-cas-entities" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3. CAS Entities</strong>
</h1>
<!-- raw HTML omitted -->
<h2>
<a id="31-service-ticket" class="anchor" href="#31-service-ticket" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.1. service ticket</strong>
</h2>
<p>A service ticket is an opaque string that is used by the client as a credential<br>
to obtain access to a service. The service ticket is obtained from CAS upon a<br>
client's presentation of credentials and a service identifier to <code>/login</code> as<br>
described in Section <a href="#head2.2">2.2</a>.</p>
<!-- raw HTML omitted -->
<h3>
<a id="311-service-ticket-properties" class="anchor" href="#311-service-ticket-properties" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.1.1. service ticket properties</strong>
</h3>
<ul>
<li>
<p>Service tickets are only valid for the service identifier that was specified<br>
to <code>/login</code> when they were generated. The service identifier SHOULD NOT be<br>
part of the service ticket.</p>
</li>
<li>
<p>Service tickets MUST only be valid for one ticket validation attempt.<br>
Whether or not validation was successful, CAS MUST then invalidate the ticket,<br>
causing all future validation attempts of that same ticket to fail.</p>
</li>
<li>
<p>CAS SHOULD expire unvalidated service tickets in a reasonable period of time<br>
after they are issued. If a service presents an expired service ticket for<br>
validation, CAS MUST respond with a validation failure response.</p>
</li>
<li>
<p>It is RECOMMENDED that the validation response include a descriptive message<br>
explaining why validation failed.</p>
</li>
<li>
<p>It is RECOMMENDED that the duration a service ticket is valid before it expires<br>
be no longer than five minutes. Local security and CAS usage considerations<br>
MAY determine the optimal lifespan of unvalidated service tickets.</p>
</li>
<li>
<p>Service tickets MUST contain adequate secure random data so that a ticket is<br>
not guessable.</p>
</li>
<li>
<p>Service tickets MUST begin with the characters, <code>ST-</code>.</p>
</li>
<li>
<p>Services MUST be able to accept service tickets of up to 32 characters in length.<br>
It is RECOMMENDED that services support service tickets of up to 256 characters in<br>
length.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h2>
<a id="32-proxy-ticket" class="anchor" href="#32-proxy-ticket" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.2. proxy ticket</strong>
</h2>
<p>A proxy ticket is an opaque string that a service uses as a credential to obtain<br>
access to a back-end service on behalf of a client. Proxy tickets are obtained<br>
from CAS upon a service's presentation of a valid proxy-granting ticket (Section<br>
<a href="#head3.3">3.3</a>), and a service identifier for the back-end service to which<br>
it is connecting.</p>
<!-- raw HTML omitted -->
<h3>
<a id="321-proxy-ticket-properties" class="anchor" href="#321-proxy-ticket-properties" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.2.1. proxy ticket properties</strong>
</h3>
<ul>
<li>
<p>Proxy tickets are only valid for the service identifier specified to <code>/proxy</code><br>
when they were generated. The service identifier SHOULD NOT be part of the<br>
proxy ticket.</p>
</li>
<li>
<p>Proxy tickets MUST only be valid for one ticket validation attempt.<br>
Whether or not validation was successful, CAS MUST then invalidate<br>
the ticket, causing all future validation attempts of that same ticket to<br>
fail.</p>
</li>
<li>
<p>CAS SHOULD expire unvalidated proxy tickets in a reasonable period<br>
of time after they are issued. If a service presents for validation an<br>
expired proxy ticket, CAS MUST respond with a validation failure response.</p>
</li>
<li>
<p>It is RECOMMENDED that the validation response include a descriptive message<br>
explaining why validation failed.</p>
</li>
<li>
<p>It is RECOMMENDED that the duration a proxy ticket is valid before it expires<br>
be no longer than five minutes. Local security and CAS usage considerations<br>
MAY determine the optimal lifespan of unvalidated proxy tickets.</p>
</li>
<li>
<p>Proxy tickets MUST contain adequate secure random data so that a ticket is<br>
not guessable.</p>
</li>
<li>
<p>Proxy tickets SHOULD begin with the characters, <code>PT-</code>.</p>
</li>
<li>
<p>Back-end services MUST be able to accept proxy tickets of up to 32 characters<br>
in length.</p>
</li>
<li>
<p>It is RECOMMENDED that back-end services support proxy tickets of up to 256<br>
characters in length.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h2>
<a id="33-proxy-granting-ticket" class="anchor" href="#33-proxy-granting-ticket" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.3. proxy-granting ticket</strong>
</h2>
<p>A proxy-granting ticket (PGT) is an opaque string that is used by a service to obtain<br>
proxy tickets for obtaining access to a back-end service on behalf of a client.<br>
Proxy-granting tickets are obtained from CAS upon validation of a service ticket<br>
or a proxy ticket. Proxy-granting ticket issuance is described fully in Section<br>
<a href="#head2.5.4">2.5.4</a>.</p>
<!-- raw HTML omitted -->
<h3>
<a id="331-proxy-granting-ticket-properties" class="anchor" href="#331-proxy-granting-ticket-properties" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.3.1. proxy-granting ticket properties</strong>
</h3>
<ul>
<li>
<p>Proxy-granting tickets MAY be used by services to obtain multiple proxy<br>
tickets. Proxy-granting tickets are not one-time-use tickets.</p>
</li>
<li>
<p>Proxy-granting tickets MUST expire when the client whose authentication is<br>
being proxied logs out of CAS.</p>
</li>
<li>
<p>Proxy-granting tickets MUST contain adequate secure random data so that a<br>
ticket is not guessable in a reasonable period of time through brute-force<br>
attacks.</p>
</li>
<li>
<p>Proxy-granting tickets SHOULD begin with the characters <code>PGT-</code>.</p>
</li>
<li>
<p>Services MUST be able to handle proxy-granting tickets of up to 64<br>
characters in length.</p>
</li>
<li>
<p>It is RECOMMENDED that services support proxy-granting tickets of up to<br>
256 characters in length.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h2>
<a id="34-proxy-granting-ticket-iou" class="anchor" href="#34-proxy-granting-ticket-iou" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.4. proxy-granting ticket IOU</strong>
</h2>
<p>A proxy-granting ticket IOU is an opaque string that is placed in the response<br>
provided by <code>/serviceValidate</code> and <code>/proxyValidate</code> used to correlate a service<br>
ticket or proxy ticket validation with a particular proxy-granting ticket. See<br>
Section <a href="#head2.5.4">2.5.4</a> for a full description of this process.</p>
<!-- raw HTML omitted -->
<h3>
<a id="341-proxy-granting-ticket-iou-properties" class="anchor" href="#341-proxy-granting-ticket-iou-properties" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.4.1. proxy-granting ticket IOU properties</strong>
</h3>
<ul>
<li>
<p>Proxy-granting ticket IOUs SHOULD NOT contain any reference to their<br>
associated proxy-granting tickets. Given a particular PGTIOU, it MUST NOT be<br>
possible to derive its corresponding PGT through algorithmic methods in a<br>
reasonable period of time.</p>
</li>
<li>
<p>Proxy-granting ticket IOUs MUST contain adequate secure random data so that<br>
a ticket is not guessable in a reasonable period of time through brute-force<br>
attacks.</p>
</li>
<li>
<p>Proxy-granting ticket IOUs SHOULD begin with the characters, <code>PGTIOU-</code>.</p>
</li>
<li>
<p>Services MUST be able to handle PGTIOUs of up to 64 characters in length. It<br>
is RECOMMENDED that services support PGTIOUs of up to 256 characters in<br>
length.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h2>
<a id="35-login-ticket" class="anchor" href="#35-login-ticket" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.5. login ticket</strong>
</h2>
<p>A login ticket is an <em>optional</em> string that MAY be provided by <code>/login</code> as a credential requester<br>
and passed to <code>/login</code> as a credential acceptor for username/password<br>
authentication. Its purpose is to prevent the replaying of credentials due to<br>
bugs in web browsers.</p>
<!-- raw HTML omitted -->
<h3>
<a id="351-login-ticket-properties" class="anchor" href="#351-login-ticket-properties" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.5.1. login ticket properties</strong>
</h3>
<ul>
<li>
<p>Login tickets issued by <code>/login</code> MUST be probabilistically unique.</p>
</li>
<li>
<p>Login tickets MUST only be valid for one authentication attempt. Whether or<br>
not authentication was successful, CAS MUST then invalidate the login<br>
ticket, causing all future authentication attempts with that instance of<br>
that login ticket to fail.</p>
</li>
<li>
<p>Login tickets SHOULD begin with the characters <code>LT-</code>.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h2>
<a id="36-ticket-granting-cookie" class="anchor" href="#36-ticket-granting-cookie" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.6. ticket-granting cookie</strong>
</h2>
<p>A ticket-granting cookie is an HTTP cookie[<a href="#5">5</a>] set by CAS upon the<br>
establishment of a single sign-on session. This cookie maintains login state for<br>
the client, and while it is valid, the client can present it to CAS in lieu of<br>
primary credentials. Services can opt out of single sign-on through the <code>renew</code><br>
parameter described in Sections <a href="#head2.1.1">2.1.1</a>, <a href="#head2.4.1">2.4.1</a>,<br>
and <a href="#head2.5.1">2.5.1</a>.</p>
<!-- raw HTML omitted -->
<h3>
<a id="361-ticket-granting-cookie-properties" class="anchor" href="#361-ticket-granting-cookie-properties" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.6.1. ticket-granting cookie properties</strong>
</h3>
<ul>
<li>
<p>A ticket-granting cookie SHALL be set to expire at the end of the client's<br>
browser session if Long-Term support is not active (<a href="#head4.1.1">4.1.1</a>)<br>
for the corresponding TGT.</p>
</li>
<li>
<p>CAS SHALL set the cookie path to be as restrictive as possible. For example,<br>
if the CAS server is set up under the path /cas, the cookie path SHALL be set<br>
to /cas.</p>
</li>
<li>
<p>The value of ticket-granting cookies SHALL contain adequate secure random data<br>
so that a ticket-granting cookie is not guessable in a reasonable period of time.</p>
</li>
<li>
<p>The name of ticket-granting cookies SHOULD begin with the characters <code>TGC-</code>.</p>
</li>
<li>
<p>The value of ticket-granting cookies SHOULD follow the same rules as the ticket-granting<br>
ticket. Typically, the value of the ticket-granting cookies MAY contain the ticket-granting<br>
ticket itself as the representation of the authenticated single sign-on session.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h2>
<a id="37-ticket-and-ticket-granting-cookie-character-set" class="anchor" href="#37-ticket-and-ticket-granting-cookie-character-set" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.7. ticket and ticket-granting cookie character set</strong>
</h2>
<p>In addition to the above requirements, all CAS tickets and the value of the<br>
ticket-granting cookie MUST contain only characters from the set <code>{A-Z, a-z, 0-9}</code>,<br>
and the hyphen character <code>-</code>.</p>
<!-- raw HTML omitted -->
<h2>
<a id="38-ticket-granting-ticket" class="anchor" href="#38-ticket-granting-ticket" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.8. ticket-granting ticket</strong>
</h2>
<p>A ticket-granting ticket (TGT) is an opaque string that is generated by the CAS<br>
server that is issued upon an successful authentication event upon <code>/login</code>.<br>
This ticket may be tied to the ticket-granting cookie which represents the<br>
state of the single sign-on session, with validity period and acts as the<br>
foundation and baseline for issuance of service tickets, proxy-granting<br>
tickets, and more.</p>
<!-- raw HTML omitted -->
<h3>
<a id="381-ticket-granting-ticket-properties" class="anchor" href="#381-ticket-granting-ticket-properties" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>3.8.1. ticket-granting ticket properties</strong>
</h3>
<ul>
<li>
<p>Ticket-granting tickets MAY be used by services to obtain multiple service<br>
tickets. Ticket-granting tickets are not one-time-use tickets and are associated<br>
with a validity period and expiration policy.</p>
</li>
<li>
<p>Ticket-granting tickets MUST expire when the client whose authentication is<br>
being managed logs out of CAS.</p>
</li>
<li>
<p>Ticket-granting tickets MUST contain adequate secure random data so that a<br>
ticket is not guessable in a reasonable period of time through brute-force<br>
attacks.</p>
</li>
<li>
<p>Ticket-granting tickets SHOULD begin with the characters <code>TGT-</code>.</p>
</li>
<li>
<p>It is RECOMMENDED that ticket-granting tickets be encrypted when<br>
shared with other external resources in order to minimize security<br>
vulnerabilities as they are tied to the ticket-granting cookie<br>
and represent the authentication session.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h1>
<a id="4-optional-features" class="anchor" href="#4-optional-features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4. Optional Features</strong>
</h1>
<!-- raw HTML omitted -->
<h2>
<a id="41-long-term-tickets---remember-me-cas-30" class="anchor" href="#41-long-term-tickets---remember-me-cas-30" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.1 Long-Term Tickets - Remember-Me [CAS 3.0]</strong>
</h2>
<p>CAS Server MAY support Long-Term Ticket Granting Tickets (referred to as<br>
"Remember Me" functionality). If this feature is supported by the CAS Server, it<br>
is possible to perform recurring, non interactive re-logins to the CAS Server as<br>
long as the Long-Term Ticket Granting Ticket in the CAS Server is not expired<br>
and the browsers TGC Cookie is valid.</p>
<!-- raw HTML omitted -->
<h3>
<a id="411-enabling-remember-me-login-page" class="anchor" href="#411-enabling-remember-me-login-page" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.1.1 Enabling Remember-Me (Login Page)</strong>
</h3>
<ul>
<li>
<p>The CAS Server MUST provide a checkbox on the login page to allow Remember-Me<br>
functionality.</p>
</li>
<li>
<p>By default, the checkbox MUST be unchecked.</p>
</li>
<li>
<p>It MUST be the users choice to enable Remember-Me for the login or not.<br>
See Section <a href="#head2.2.2">2.2.2</a>.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h3>
<a id="412-security-implications" class="anchor" href="#412-security-implications" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.1.2 Security implications</strong>
</h3>
<p>Enabling Remember-Me MAY have security implications. As the CAS authentication<br>
is bound to the browser and the user is not getting interactively logged-in when<br>
a valid Long-Term TGT ticket exists and the CAS cookie presented by the browser<br>
is valid, special care MUST be taken on the CAS client side to handle Remember-Me<br>
logins properly. It MUST be the CAS clients responsibility to decide<br>
if and when Remember-Me CAS logins might be handled special. See <a href="#head4.1.3">4.1.3</a>.</p>
<!-- raw HTML omitted -->
<h3>
<a id="413-cas-validation-response-attributes" class="anchor" href="#413-cas-validation-response-attributes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.1.3 CAS Validation Response Attributes</strong>
</h3>
<p>As only the CAS Client MUST decide how to handle Remember-Me logins (see<br>
<a href="#head4.2.1">4.2.1</a>), the CAS Server MUST provide information about a<br>
Remember-Me login to the CAS Client. This information MUST be provided by all<br>
ticket validation methods supported by the CAS Server (See Sections<br>
<a href="#head2.5">2.5</a>, <a href="#head2.6">2.6</a> and <a href="#head2.8">2.8</a>) in this case.</p>
<ul>
<li>
<p>In serviceValidate XML responses (see <a href="#head_appdx_a">Appendix A</a>), a<br>
Remember-Me login MUST be indicated by the<br>
<code>longTermAuthenticationRequestTokenUsed</code> attribute. Additionally, the<br>
<code>isFromNewLogin</code> attribute MAY be used to decide whether this has security<br>
implications.</p>
</li>
<li>
<p>In SAML validation responses, Remember-Me MUST be indicated by the<br>
<code>longTermAuthenticationRequestTokenUsed</code> attribute.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h3>
<a id="414-cas-client-requirements" class="anchor" href="#414-cas-client-requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.1.4 CAS Client requirements</strong>
</h3>
<p>If the CAS client needs to handle Remember-Me logins special (e.g. deny access to<br>
sensitive areas of the CAS client application on a remembered login), the CAS<br>
client MUST NOT use the <code>/validate</code> CAS validation URL, as this URL does not<br>
support CAS attributes in the validation response document.</p>
<h3>
<a id="415-long-term-ticket-granting-cookie-properties" class="anchor" href="#415-long-term-ticket-granting-cookie-properties" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.1.5 Long-Term ticket-granting cookie properties</strong>
</h3>
<p>When a Long-Term TGT was created by the CAS Server, the Ticket-granting cookie<br>
MUST NOT expire at the end of the client's browser session as defined in <a href="#head3.6.1">3.6.1</a>.<br>
Instead, the Ticket Granting cookie SHALL expire at the defined Long-Term TGT ticket lifetime.</p>
<p>The lifetime value definition of Long-Term Ticket Granting Tickets is up to the CAS Server implementer.<br>
The Long-Term Ticket Granting Ticket lifetime MAY not exceed 3 months.</p>
<!-- raw HTML omitted -->
<h2>
<a id="42-samlvalidate-cas-30" class="anchor" href="#42-samlvalidate-cas-30" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.2 /samlValidate [CAS 3.0]</strong>
</h2>
<p><code>/samlValidate</code> checks the validity of a Service Ticket by a SAML 1.1 request<br>
document provided by a HTTP POST. A SAML (Secure Access Markup Language)[<a href="#7">7</a>] 1.1<br>
response document MUST be returned. This allows the release of additional<br>
information (attributes) of the authenticated NetID. The Security Assertion<br>
Markup Language (SAML) describes a document and protocol framework by which<br>
security assertions (such as assertions about a prior act of authentication) can<br>
be exchanged.</p>
<!-- raw HTML omitted -->
<h3>
<a id="421-parameters" class="anchor" href="#421-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.2.1 parameters</strong>
</h3>
<p>The following HTTP request parameters MUST be specified to <code>/samlValidate</code>. They<br>
are both case-sensitive.</p>
<ul>
<li>
<code>TARGET</code> [REQUIRED] - URL encoded service identifier of the back-end service.<br>
Note that as an HTTP request parameter, this URL value MUST be URL-encoded<br>
as described in Section 2.2 of RFC 1738<a href="#4">[4]</a>. The service identifier<br>
specified here MUST match the <code>service</code> parameter provided to <code>/login</code>. See<br>
Section <a href="#head2.1.1">2.1.1</a>. The <code>TARGET</code> service SHALL use HTTPS. SAML<br>
attributes MUST NOT be released to a non-SSL site.</li>
</ul>
<!-- raw HTML omitted -->
<h3>
<a id="422-http-request-method-and-body" class="anchor" href="#422-http-request-method-and-body" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.2.2 HTTP Request Method and Body</strong>
</h3>
<p>Request to /samlValidate MUST be a HTTP POST request. The request body MUST be a valid<br>
SAML 1.0 or 1.1 request XML document of document type "text/xml".</p>
<!-- raw HTML omitted -->
<h3>
<a id="423-saml-request-values" class="anchor" href="#423-saml-request-values" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.2.3 SAML request values</strong>
</h3>
<ul>
<li>
<p><code>RequestID</code> [REQUIRED] - unique identifier for the request</p>
</li>
<li>
<p><code>IssueInstant</code> [REQUIRED] - timestamp of the request</p>
</li>
<li>
<p><code>samlp:AssertionArtifact</code> [REQUIRED] - the valid CAS Service Ticket obtained as a response<br>
parameter at login. See section <a href="#head2.2.4">2.2.4</a>.</p>
</li>
</ul>
<!-- raw HTML omitted -->
<h3>
<a id="424-example-of-samlvalidate-post-request" class="anchor" href="#424-example-of-samlvalidate-post-request" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.2.4 Example of /samlValidate POST request</strong>
</h3>
<pre lang="bash"><code>POST /cas/samlValidate?TARGET=
Host: cas.example.com
Content-Length: 491
Content-Type: text/xml
</code></pre>
<pre lang="xml"><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
	&lt;SOAP-ENV:Header/&gt;
	&lt;SOAP-ENV:Body&gt;
		&lt;samlp:Request xmlns:samlp="urn:oasis:names:tc:SAML:1.0:protocol" MajorVersion="1" MinorVersion="1" RequestID="_192.168.16.51.1024506224022" IssueInstant="2002-06-19T17:03:44.022Z"&gt;
			&lt;samlp:AssertionArtifact&gt;ST-1-u4hrm3td92cLxpCvrjylcas.example.com&lt;/samlp:AssertionArtifact&gt;
		&lt;/samlp:Request&gt;
	&lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;
</code></pre>
<!-- raw HTML omitted -->
<h3>
<a id="425-saml-response" class="anchor" href="#425-saml-response" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.2.5 SAML response</strong>
</h3>
<p>CAS Server response to a <code>/samlValidate</code> request. MUST be a SAML 1.1 response.</p>
<p>Example SAML 1.1 validation response:</p>
<pre lang="xml"><code>
&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/"&gt;
  &lt;SOAP-ENV:Header /&gt;
  &lt;SOAP-ENV:Body&gt;
    &lt;Response xmlns="urn:oasis:names:tc:SAML:1.0:protocol" xmlns:saml="urn:oasis:names:tc:SAML:1.0:assertion"
    xmlns:samlp="urn:oasis:names:tc:SAML:1.0:protocol" xmlns:xsd="http://www.w3.org/2001/XMLSchema"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" IssueInstant="2008-12-10T14:12:14.817Z"
    MajorVersion="1" MinorVersion="1" Recipient="https://eiger.iad.vt.edu/dat/home.do"
    ResponseID="_5c94b5431c540365e5a70b2874b75996"&gt;
      &lt;Status&gt;
        &lt;StatusCode Value="samlp:Success"&gt;
        &lt;/StatusCode&gt;
      &lt;/Status&gt;
      &lt;Assertion xmlns="urn:oasis:names:tc:SAML:1.0:assertion" AssertionID="_e5c23ff7a3889e12fa01802a47331653"
      IssueInstant="2008-12-10T14:12:14.817Z" Issuer="localhost" MajorVersion="1"
      MinorVersion="1"&gt;
        &lt;Conditions NotBefore="2008-12-10T14:12:14.817Z" NotOnOrAfter="2008-12-10T14:12:44.817Z"&gt;
          &lt;AudienceRestrictionCondition&gt;
            &lt;Audience&gt;
              https://some-service.example.com/app/
            &lt;/Audience&gt;
          &lt;/AudienceRestrictionCondition&gt;
        &lt;/Conditions&gt;
        &lt;AttributeStatement&gt;
          &lt;Subject&gt;
            &lt;NameIdentifier&gt;johnq&lt;/NameIdentifier&gt;
            &lt;SubjectConfirmation&gt;
              &lt;ConfirmationMethod&gt;
                urn:oasis:names:tc:SAML:1.0:cm:artifact
              &lt;/ConfirmationMethod&gt;
            &lt;/SubjectConfirmation&gt;
          &lt;/Subject&gt;
          &lt;Attribute AttributeName="uid" AttributeNamespace="http://www.ja-sig.org/products/cas/"&gt;
            &lt;AttributeValue&gt;12345&lt;/AttributeValue&gt;
          &lt;/Attribute&gt;
          &lt;Attribute AttributeName="groupMembership" AttributeNamespace="http://www.ja-sig.org/products/cas/"&gt;
            &lt;AttributeValue&gt;
              uugid=middleware.staff,ou=Groups,dc=vt,dc=edu
            &lt;/AttributeValue&gt;
          &lt;/Attribute&gt;
          &lt;Attribute AttributeName="eduPersonAffiliation" AttributeNamespace="http://www.ja-sig.org/products/cas/"&gt;
            &lt;AttributeValue&gt;staff&lt;/AttributeValue&gt;
          &lt;/Attribute&gt;
          &lt;Attribute AttributeName="accountState" AttributeNamespace="http://www.ja-sig.org/products/cas/"&gt;
            &lt;AttributeValue&gt;ACTIVE&lt;/AttributeValue&gt;
          &lt;/Attribute&gt;
        &lt;/AttributeStatement&gt;
        &lt;AuthenticationStatement AuthenticationInstant="2008-12-10T14:12:14.741Z"
        AuthenticationMethod="urn:oasis:names:tc:SAML:1.0:am:password"&gt;
          &lt;Subject&gt;
            &lt;NameIdentifier&gt;johnq&lt;/NameIdentifier&gt;
            &lt;SubjectConfirmation&gt;
              &lt;ConfirmationMethod&gt;
                urn:oasis:names:tc:SAML:1.0:cm:artifact
              &lt;/ConfirmationMethod&gt;
            &lt;/SubjectConfirmation&gt;
          &lt;/Subject&gt;
        &lt;/AuthenticationStatement&gt;
      &lt;/Assertion&gt;
    &lt;/Response&gt;
  &lt;/SOAP-ENV:Body&gt;
&lt;/SOAP-ENV:Envelope&gt;
</code></pre>
<!-- raw HTML omitted -->
<h3>
<a id="4251-saml-cas-response-attributes" class="anchor" href="#4251-saml-cas-response-attributes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>4.2.5.1 SAML CAS response attributes</strong>
</h3>
<p>The following additional attributes might be provided within the SAML response:</p>
<ul>
<li>
<code>longTermAuthenticationRequestTokenUsed</code> - If Long Term Ticket Granting<br>
Tickets (Remember-Me) are supported by the CAS Server (see Section <a href="#head4.1">4.1</a>), the<br>
SAML response MUST include this attribute to indicate remembered logins<br>
to the CAS client.</li>
</ul>
<!-- raw HTML omitted -->
<h1>
<a id="appendix-a-cas-response-xml-schema" class="anchor" href="#appendix-a-cas-response-xml-schema" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>Appendix A: CAS response XML schema</strong>
</h1>
<pre lang="xml"><code>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
           xmlns:cas="http://www.yale.edu/tp/cas"
           targetNamespace="http://www.yale.edu/tp/cas"
           elementFormDefault="qualified"&gt;
  &lt;xs:annotation&gt;
    &lt;xs:documentation&gt;
      The following is the schema for the Central Authentication Service (CAS) version 3.0 protocol response.&lt;br /&gt;
      This covers the responses for the following endpoints: /serviceValidate, /proxyValidate, /p3/serviceValidate, /p3/proxyValidate, /proxy.&lt;br /&gt;
      This specification is subject to change.&lt;br /&gt;

      Schema version: 3.0.3&lt;br /&gt;

      History:&lt;br /&gt;
      3.0   initial version for CAS 3.0 protocol spec &lt;br /&gt;
      3.0.3 fixed attributes memberOf / xs:any clash, added documentation.&lt;br /&gt;
    &lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;
  &lt;xs:element name="serviceResponse" type="cas:ServiceResponseType"&gt;
    &lt;xs:annotation&gt;
      &lt;xs:documentation&gt;The service Response.&lt;/xs:documentation&gt;
    &lt;/xs:annotation&gt;
  &lt;/xs:element&gt;
  &lt;xs:complexType name="ServiceResponseType"&gt;
    &lt;xs:choice&gt;
      &lt;xs:element name="authenticationSuccess" type="cas:AuthenticationSuccessType"/&gt;
      &lt;xs:element name="authenticationFailure" type="cas:AuthenticationFailureType"/&gt;
      &lt;xs:element name="proxySuccess" type="cas:ProxySuccessType"/&gt;
      &lt;xs:element name="proxyFailure" type="cas:ProxyFailureType"/&gt;
    &lt;/xs:choice&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name="AuthenticationSuccessType"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name="user" type="xs:string"&gt;
        &lt;xs:annotation&gt;
          &lt;xs:documentation&gt;The username which authenticated successfully.&lt;/xs:documentation&gt;
        &lt;/xs:annotation&gt;
      &lt;/xs:element&gt;
      &lt;xs:element name="attributes" type="cas:AttributesType" minOccurs="0"&gt;
        &lt;xs:annotation&gt;
          &lt;xs:documentation&gt;Optional attributes.&lt;/xs:documentation&gt;
        &lt;/xs:annotation&gt;
      &lt;/xs:element&gt;
      &lt;xs:element name="proxyGrantingTicket" type="xs:string" minOccurs="0"&gt;
        &lt;xs:annotation&gt;
          &lt;xs:documentation&gt;Optional PGT.&lt;/xs:documentation&gt;
        &lt;/xs:annotation&gt;
      &lt;/xs:element&gt;
      &lt;xs:element name="proxies" type="cas:ProxiesType" minOccurs="0"&gt;
        &lt;xs:annotation&gt;
          &lt;xs:documentation&gt;Optional type of proxies.&lt;/xs:documentation&gt;
        &lt;/xs:annotation&gt;
      &lt;/xs:element&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name="ProxiesType"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name="proxy" type="xs:string" maxOccurs="unbounded"/&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name="AuthenticationFailureType"&gt;
    &lt;xs:simpleContent&gt;
      &lt;xs:extension base="xs:string"&gt;
        &lt;xs:attribute name="code" type="xs:string" use="required"&gt;
          &lt;xs:annotation&gt;
            &lt;xs:documentation&gt;The error code on authentication failure.&lt;/xs:documentation&gt;
          &lt;/xs:annotation&gt;
        &lt;/xs:attribute&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:simpleContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name="ProxySuccessType"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name="proxyTicket" type="xs:string"&gt;
        &lt;xs:annotation&gt;
          &lt;xs:documentation&gt;The PT.&lt;/xs:documentation&gt;
        &lt;/xs:annotation&gt;
      &lt;/xs:element&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name="ProxyFailureType"&gt;
    &lt;xs:simpleContent&gt;
      &lt;xs:extension base="xs:string"&gt;
        &lt;xs:attribute name="code" type="xs:string" use="required"&gt;
          &lt;xs:annotation&gt;
            &lt;xs:documentation&gt;The error code on proxy failure.&lt;/xs:documentation&gt;
          &lt;/xs:annotation&gt;
        &lt;/xs:attribute&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:simpleContent&gt;
  &lt;/xs:complexType&gt;
  &lt;xs:complexType name="AttributesType"&gt;
    &lt;xs:sequence&gt;
      &lt;xs:element name="authenticationDate" type="xs:dateTime" minOccurs="1" maxOccurs="1"/&gt;
      &lt;xs:element name="longTermAuthenticationRequestTokenUsed" type="xs:boolean" minOccurs="1" maxOccurs="1"&gt;
        &lt;xs:annotation&gt;
          &lt;xs:documentation&gt;true if a long-term (Remember-Me) token was used&lt;/xs:documentation&gt;
        &lt;/xs:annotation&gt;
      &lt;/xs:element&gt;
      &lt;xs:element name="isFromNewLogin" type="xs:boolean" minOccurs="1" maxOccurs="1"&gt;
        &lt;xs:annotation&gt;
          &lt;xs:documentation&gt;true if this was from a new, interactive login. If login was from a non-interactive login (e.g. Remember-Me), this value is false or might be omitted.&lt;/xs:documentation&gt;
        &lt;/xs:annotation&gt;
      &lt;/xs:element&gt;
      &lt;xs:any minOccurs="0" maxOccurs="unbounded" processContents="lax"&gt;
        &lt;xs:annotation&gt;
          &lt;xs:documentation&gt;Any user specific attribute elements. May contain memberOf or any other elements.&lt;/xs:documentation&gt;
        &lt;/xs:annotation&gt;
      &lt;/xs:any&gt;
    &lt;/xs:sequence&gt;
  &lt;/xs:complexType&gt;
&lt;/xs:schema&gt;
</code></pre>
<blockquote>
<p>Note: As user attributes can be extended by the CAS Server implementer (see<br>
<a href="xs:any">xs:any</a> schema definition), it is RECOMMENDED to form custom attributes<br>
as using the following format:</p>
</blockquote>
<pre lang="xml"><code>&lt;cas:attributes&gt;
    ...
    &lt;cas:[attribute-name]&gt;VALUE&lt;/cas:[attribute-name]&gt;
&lt;/cas:attributes&gt;
</code></pre>
<blockquote>
<p>Example response with custom attribute:</p>
</blockquote>
<pre lang="xml"><code>&lt;cas:attributes&gt;
    &lt;cas:authenticationDate&gt;2015-11-12T09:30:10Z&lt;/cas:authenticationDate&gt;
    &lt;cas:longTermAuthenticationRequestTokenUsed&gt;true&lt;/cas:longTermAuthenticationRequestTokenUsed&gt;
    &lt;cas:isFromNewLogin&gt;true&lt;/cas:isFromNewLogin&gt;
    &lt;cas:myAttribute&gt;myValue&lt;/cas:myAttribute&gt;
&lt;/cas:attributes&gt;
</code></pre>
<!-- raw HTML omitted -->
<h1>
<a id="appendix-b-safe-redirection" class="anchor" href="#appendix-b-safe-redirection" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>Appendix B: Safe redirection</strong>
</h1>
<p>After a successful login, safely redirecting the client from CAS to its final<br>
destination must be handled with care. In most cases, the client has sent<br>
credentials to the CAS server over a POST request. By this specification, the<br>
CAS server must then forward the user to the application with a GET request.</p>
<p>The HTTP/1.1 RFC[<a href="#3">3</a>] provides a response code of 303: See Other, which<br>
provides for the desired behavior: a script that receives data through a POST<br>
request can, through a 303 redirection, forward the browser to another URL<br>
through a GET request. However, not all browsers have implemented this behavior<br>
correctly.</p>
<p>The RECOMMENDED method of redirection is thus JavaScript. A page containing a<br>
<code>window.location.href</code> in the following manner performs adequately:</p>
<pre lang="html"><code> &lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Yale Central Authentication Service&lt;/title&gt;
        &lt;script&gt;
            window.location.href="https://portal.yale.edu/Login?ticket=ST-..."
mce_href="https://portal.yale.edu/Login?ticket=ST-...";`
       &lt;/script&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;noscript&gt;
            &lt;p&gt;CAS login successful.&lt;/p&gt;
            &lt;p&gt;  Click &lt;a xhref="https://portal.yale.edu/Login?ticket=ST-..."
mce_href="https://portal.yale.edu/Login?ticket=ST-..."&gt;here&lt;/a&gt;
            to access the service you requested.&lt;br /&gt;  &lt;/p&gt;
        &lt;/noscript&gt;
    &lt;/body&gt;
 &lt;/html&gt;
</code></pre>
<p>Additionally, CAS should disable browser caching by setting all of the various<br>
cache-related headers:</p>
<ul>
<li>
<p>Pragma: no-cache</p>
</li>
<li>
<p>Cache-Control: no-store</p>
</li>
<li>
<p>Expires: [RFC 1123[<a href="#6">6</a>] date equal to or before now]</p>
</li>
</ul>
<p>The introduction of the login ticket removed the possibility of CAS accepting<br>
credentials that were cached and replayed by a browser. However, early versions<br>
of Apple's Safari browser contained a bug where through usage of the Back<br>
button, Safari could be coerced into presenting the client's credentials to the<br>
service it is trying to access. CAS can prevent this behavior by not<br>
automatically redirecting if it detects that the remote browser is one of these<br>
early versions of Safari. Instead, CAS should display a page that states login<br>
was successful, and provide a link to the requested service. The client must<br>
then manually click to proceed.</p>
<!-- raw HTML omitted -->
<h1>
<a id="appendix-c-logout-xml-document" class="anchor" href="#appendix-c-logout-xml-document" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>Appendix C: Logout XML document</strong>
</h1>
<p>When SLO is supported by the CAS Server, it will callback to each of the<br>
services that are registered with the system and send a POST request with the<br>
following SAML Logout Request XML document:</p>
<pre lang="xml"><code>  &lt;samlp:LogoutRequest xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol"
     ID="[RANDOM ID]" Version="2.0" IssueInstant="[CURRENT DATE/TIME]"&gt;
    &lt;saml:NameID xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion"&gt;
      @NOT_USED@
    &lt;/saml:NameID&gt;
    &lt;samlp:SessionIndex&gt;[SESSION IDENTIFIER]&lt;/samlp:SessionIndex&gt;
  &lt;/samlp:LogoutRequest&gt;`
</code></pre>
<!-- raw HTML omitted -->
<h1>
<a id="appendix-d-references" class="anchor" href="#appendix-d-references" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>Appendix D: References</strong>
</h1>
<p><!-- raw HTML omitted -->[1] Bradner, S., "Key words for use in RFCs to Indicate Requirement<br>
Levels", <a href="http://www.ietf.org/rfc/rfc2119.txt">RFC 2119</a>, Harvard University,<br>
March 1997.</p>
<p><!-- raw HTML omitted -->[2] Berners-Lee, T., Fielding, R., Frystyk, H., "Hypertext Transfer<br>
Protocol - HTTP/1.0", <a href="http://www.ietf.org/rfc/rfc1945.txt">RFC 1945</a>,<br>
MIT/LCS, UC Irvine, MIT/LCS, May 1996.</p>
<p><!-- raw HTML omitted -->[3] Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L.,<br>
Leach, P., Berners-Lee, T., "Hypertext Transfer Protocol - HTTP/1.1", <a href="http://www.ietf.org/rfc/rfc2068.txt">RFC<br>
2068</a>, UC Irvine, Compaq/W3C, Compaq,<br>
W3C/MIT, Xerox, Microsoft, W3C/MIT, June 1999.</p>
<p><!-- raw HTML omitted -->[4] Berners-Lee, T., Masinter, L., and MaCahill, M., "Uniform<br>
Resource Locators (URL)", <a href="http://www.ietf.org/rfc/rfc1738.txt">RFC 1738</a>,<br>
CERN, Xerox Corporation, University of Minnesota, December 1994.</p>
<p><!-- raw HTML omitted -->[5] Kristol, D., Montulli, L., "HTTP State Management Mechanism",<br>
<a href="http://www.ietf.org/rfc/rfc2965.txt">RFC 2965</a>, Bell Laboratories/Lucent<br>
Technologies, Epinions.com, Inc., October 2000.</p>
<p><!-- raw HTML omitted -->[6] Braden, R., "Requirements for Internet Hosts - Application and<br>
Support", <a href="http://www.ietf.org/rfc/rfc1123.txt">RFC 1123</a>, Internet<br>
Engineering Task Force, October 1989.</p>
<p><!-- raw HTML omitted -->[7] OASIS SAML 1.1 standard, saml.xml.org, December 2009.</p>
<p><!-- raw HTML omitted -->[8] <a href="http://www.Apereo.org/cas">Apereo CAS Server</a> reference<br>
implementation</p>
<!-- raw HTML omitted -->
<h1>
<a id="appendix-e-cas-license" class="anchor" href="#appendix-e-cas-license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>Appendix E: CAS License</strong>
</h1>
<p>Licensed to Apereo under one or more contributor license agreements. See the<br>
NOTICE file distributed with this work for additional information regarding<br>
copyright ownership. Apereo licenses this file to you under the Apache License,<br>
Version 2.0 (the "License"); you may not use this file except in compliance with<br>
the License.  You may obtain a copy of the License at the following location:</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed<br>
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR<br>
CONDITIONS OF ANY KIND, either express or implied.  See the License for the<br>
specific language governing permissions and limitations under the License.</p>
<!-- raw HTML omitted -->
<h1>
<a id="appendix-f-yale-license" class="anchor" href="#appendix-f-yale-license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>Appendix F: YALE License</strong>
</h1>
<p>Copyright (c) 2000-2005 Yale University.</p>
<p>THIS SOFTWARE IS PROVIDED "AS IS," AND ANY EXPRESS OR IMPLIED WARRANTIES,<br>
INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND<br>
FITNESS FOR A PARTICULAR PURPOSE, ARE EXPRESSLY DISCLAIMED. IN NO EVENT SHALL<br>
YALE UNIVERSITY OR ITS EMPLOYEES BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,<br>
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED, THE<br>
COSTS OF PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA OR<br>
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF<br>
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE<br>
OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF<br>
ADVISED IN ADVANCE OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<p>Redistribution and use of this software in source or binary forms, with or<br>
without modification, are permitted, provided that the following conditions are<br>
met:</p>
<ol>
<li>
<p>Any redistribution must include the above copyright notice and disclaimer<br>
and this list of conditions in any related documentation and, if feasible,<br>
in the redistributed software.</p>
</li>
<li>
<p>Any redistribution must include the acknowledgment, "This product includes<br>
software developed by Yale University," in any related documentation and, if<br>
feasible, in the redistributed software.</p>
</li>
<li>
<p>The names "Yale" and "Yale University" must not be used to endorse or<br>
promote products derived from this software.</p>
</li>
</ol>
<!-- raw HTML omitted -->
<h1>
<a id="appendix-g-changes-to-this-document" class="anchor" href="#appendix-g-changes-to-this-document" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a><strong>Appendix G: Changes to this Document</strong>
</h1>
<p>May 4, 2005: v1.0 - initial release for CAS 1.0 and CAS 2.0, Copyright © 2005, Yale University</p>
<p>March 2, 2012: v1.0.1 - fixed "noscropt" typo. apetro per amazurek with credit<br>
to Faraz Khan at ASU for catching the typo.</p>
<p>April, 2013: v3.0 - CAS 3.0 protocol, Apereo copyright, Apache License 2.0</p>
<p>January, 2014: v3.0.1 - Attribute occurrence</p>
<p>September, 2015: v3.0.2 - Format parameter</p>
<p>December, 2017: v3.0.3 - Fixed ServiceValidate XSD schema</p>