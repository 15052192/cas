<hr>
<h2>
<a id="layout-defaulttitle-cas---configuring-service-expiration-policycategory-services" class="anchor" href="#layout-defaulttitle-cas---configuring-service-expiration-policycategory-services" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>layout: default<br>
title: CAS - Configuring Service Expiration Policy<br>
category: Services</h2>
<h1>
<a id="configure-service-expiration-policy" class="anchor" href="#configure-service-expiration-policy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configure Service Expiration Policy</h1>
<p>An application registered with CAS may be assigned an optional expiration policy that controls the lifetime of the registration. Once the service is deemed expired, it will automatically be disabled or removed from the CAS registry<br>
and <a href="Configuring-Service-Contacts.html">relevant contacts</a> defined and assigned to the service will be notified via email or text messages.</p>
<p>To see the relevant list of CAS properties, please <a href="../configuration/Configuration-Properties.html#service-registry-notifications">review this guide</a>.</p>
<p>A sample JSON file follows:</p>
<pre lang="json"><code>{
  "@class" : "org.apereo.cas.services.RegexRegisteredService",
  "serviceId" : "^https://.+",
  "name" : "sample service",
  "id" : 100,
  "expirationPolicy": {
    "@class": "org.apereo.cas.services.DefaultRegisteredServiceExpirationPolicy",
    "deleteWhenExpired": true,
    "notifyWhenDeleted": false,
    "notifyWhenExpired": false,
    "expirationDate": "2017-10-05"
  }
}
</code></pre>
<p>The following settings are available by default for expiration policies:</p>
<table>
<thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>expirationDate</code></td>
<td>The date on which the registration record is deemed expired. The expiration date may be specified in <code>2011-12-03T10:15:30</code>, <code>09/24/1980 04:30 PM</code>, <code>09/24/2014 6:30 AM</code>, <code>09/24/2013 18:45</code>, <code>09/24/2017</code> or <code>2017-10-25</code> formats.</td>
</tr>
<tr>
<td><code>deleteWhenExpired</code></td>
<td>When <code>true</code>, removes the application from the CAS service registry if and when expired. Otherwise the application record will be marked as disabled.</td>
</tr>
<tr>
<td><code>notifyWhenDeleted</code></td>
<td>Notifies <a href="Configuring-Service-Contacts.html">contacts</a> of the application via email or text, assuming valid contacts with email addresses or phone numbers are defined and CAS is configured to send <a href="../notifications/Sending-Email-Configuration.html">email messages</a> or <a href="../notifications/SMS-Messaging-Configuration.html">SMS notifications</a>. The notification is only sent if the application is expired and is about to be deleted from the registry.</td>
</tr>
<tr>
<td><code>notifyWhenExpired</code></td>
<td>Notifies <a href="Configuring-Service-Contacts.html">contacts</a> of the application via email or text, assuming valid contacts with email addresses or phone numbers are defined and CAS is configured to send <a href="../notifications/Sending-Email-Configuration.html">email messages</a> or <a href="../notifications/SMS-Messaging-Configuration.html">SMS notifications</a>. The notification is only sent if the application is expired.</td>
</tr>
</tbody>
</table>