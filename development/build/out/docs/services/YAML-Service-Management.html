<hr>
<h2>
<a id="layout-defaulttitle-cas---yaml-service-registrycategory-services" class="anchor" href="#layout-defaulttitle-cas---yaml-service-registrycategory-services" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>layout: default<br>
title: CAS - YAML Service Registry<br>
category: Services</h2>
<h1>
<a id="yaml-service-registry" class="anchor" href="#yaml-service-registry" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>YAML Service Registry</h1>
<p>This registry reads services definitions from YAML configuration files at the application context initialization time.<br>
YAML files are expected to be found inside a configured directory location and this registry will recursively look through<br>
the directory structure to find relevant files.</p>
<p>Support is enabled by adding the following module into the overlay:</p>
<pre lang="xml"><code>&lt;dependency&gt;
    &lt;groupId&gt;org.apereo.cas&lt;/groupId&gt;
    &lt;artifactId&gt;cas-server-support-yaml-service-registry&lt;/artifactId&gt;
    &lt;version&gt;${cas.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>To see the relevant list of CAS properties, please <a href="../configuration/Configuration-Properties.html#yaml-service-registry">review this guide</a>.</p>
<p>A sample YAML file follows:</p>
<pre lang="yml"><code>--- !&lt;org.apereo.cas.services.RegexRegisteredService&gt;
serviceId: "testId"
name: "YAML"
id: 1000
description: "description"
attributeReleasePolicy: !&lt;org.apereo.cas.services.ReturnAllAttributeReleasePolicy&gt; {}
accessStrategy: !&lt;org.apereo.cas.services.DefaultRegisteredServiceAccessStrategy&gt;
  enabled: true
  ssoEnabled: true
</code></pre>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>The service registry is also able to auto detect changes to the specified directory. It will monitor changes to recognize<br>
file additions, removals and updates and will auto-refresh CAS so changes do happen instantly.</p>
<!-- raw HTML omitted -->
<p>The naming convention for new files is recommended to be the following:</p>
<pre lang="bash"><code>YAML fileName = serviceName + "-" + serviceNumericId + ".yml"
</code></pre>
<p>Remember that because files are created based on the <code>serviceName</code>, you will need to make sure <a href="https://en.wikipedia.org/wiki/Filename#Reserved_characters_and_words">characters considered invalid for file names</a> are not used as part of the name. Furthermore, note that CAS <strong>MUST</strong> be given full read/write permissions on directory which contains service definition files.</p>
<!-- raw HTML omitted -->
<h2>
<a id="replication" class="anchor" href="#replication" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Replication</h2>
<p>If CAS is deployed in a cluster, the service definition files must be kept in sync for all CAS nodes. Please <a href="Configuring-Service-Replication.html">review this guide</a> to learn more about available options.</p>