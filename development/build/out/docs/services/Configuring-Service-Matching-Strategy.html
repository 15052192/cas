<hr>
<h2>
<a id="layout-defaulttitle-cas---configuring-service-matching-strategycategory-services" class="anchor" href="#layout-defaulttitle-cas---configuring-service-matching-strategycategory-services" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>layout: default<br>
title: CAS - Configuring Service Matching Strategy<br>
category: Services</h2>
<h1>
<a id="configuring-service-matching-strategy" class="anchor" href="#configuring-service-matching-strategy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuring Service Matching Strategy</h1>
<p>Authentication requests that carry a client application identifier are compared against the service identifier<br>
that is assigned to a service definition. By default, the service identifier is treated as a regular expression pattern<br>
that needs to be properly encoded and defined for matching operation to successfully execute. This strategy can be<br>
defined on a per-service basis to allow for alternative options or a full strategy implementation that may want to<br>
take external factors and variables into account.</p>
<p>See below for details on matching strategies.</p>
<h2>
<a id="full-regex" class="anchor" href="#full-regex" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Full Regex</h2>
<p>This is the default option that treats the <code>serviceId</code> as a regular expression. With this option,<br>
CAS tries to match the expression against the entire requested service identifier and implicitly<br>
adds a <code>^</code> at the start and <code>$</code> at the end of the defined pattern, meaning it will not look for substring matches.</p>
<p>A sample JSON file follows:</p>
<pre lang="json"><code>{
  "@class": "org.apereo.cas.services.RegexRegisteredService",
  "serviceId": "https://.*",
  "name": "sample",
  "id": 1,
  "matchingStrategy": {
    "@class": "org.apereo.cas.services.FullRegexRegisteredServiceMatchingStrategy"
  }
}
</code></pre>
<h2>
<a id="partial-regex" class="anchor" href="#partial-regex" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Partial Regex</h2>
<p>This strategy treats the <code>serviceId</code> as a regular expression. With this option, CAS will look and allow for substring matches.</p>
<p>A sample JSON file follows:</p>
<pre lang="json"><code>{
  "@class": "org.apereo.cas.services.RegexRegisteredService",
  "serviceId": "\\d\\d\\d",
  "name": "sample",
  "id": 1,
  "matchingStrategy": {
    "@class": "org.apereo.cas.services.PartialRegexRegisteredServiceMatchingStrategy"
  }
}
</code></pre>
<p>For example, the above pattern will match against <code>https://example123.com</code>.</p>
<h2>
<a id="literal" class="anchor" href="#literal" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Literal</h2>
<p>This strategy treats the <code>serviceId</code> as a literal text and will look for exact matches. This might be useful in scenarios where you<br>
may not wish to deal with encoding individual/special characters such as <code>?</code> in the URL.</p>
<p>A sample JSON file follows:</p>
<pre lang="json"><code>{
  "@class": "org.apereo.cas.services.RegexRegisteredService",
  "serviceId": "https://example.com?key=value",
  "name": "sample",
  "id": 1,
  "matchingStrategy": {
    "@class": "org.apereo.cas.services.LiteralRegisteredServiceMatchingStrategy",
    "caseInsensitive": true
  }
}
</code></pre>