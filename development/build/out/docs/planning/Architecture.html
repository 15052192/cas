<hr>
<h2>
<a id="layout-defaulttitle-cas---architecturecategory-planning" class="anchor" href="#layout-defaulttitle-cas---architecturecategory-planning" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>layout: default<br>
title: CAS - Architecture<br>
category: Planning</h2>
<p>{% include variables.html %}</p>
<h1>
<a id="architecture" class="anchor" href="#architecture" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Architecture</h1>
<p><img src="../images/cas_architecture.png" alt="CAS Architecture Diagram" title="CAS Architecture Diagram"></p>
<h2>
<a id="system-components" class="anchor" href="#system-components" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>System Components</h2>
<p>The CAS server and clients comprise the two physical components of the CAS system architecture that communicate<br>
by means of various protocols.</p>
<h3>
<a id="cas-server" class="anchor" href="#cas-server" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CAS Server</h3>
<p>The CAS server is Java servlet built on the Spring Framework whose primary responsibility is to authenticate users<br>
and grant access to CAS-enabled services, commonly called CAS clients, by issuing and validating tickets.<br>
An SSO session is created when the server issues a ticket-granting ticket (TGT) to the user upon successful login.<br>
A service ticket (ST) is issued to a service at the user's request via browser redirects using the TGT as a token.<br>
The ST is subsequently validated at the CAS server via back-channel communication.<br>
These interactions are described in great detail in the CAS Protocol document.</p>
<h3>
<a id="cas-clients" class="anchor" href="#cas-clients" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CAS Clients</h3>
<p>The term "CAS client" has two distinct meanings in its common use. A CAS client is any CAS-enabled application that<br>
can communicate with the server via a supported protocol. A CAS client is also a software package that can be<br>
integrated with various software platforms and applications in order to communicate with the CAS server via some<br>
authentication protocol (e.g. CAS, SAML, OAuth). CAS clients supporting a number of software platforms and products<br>
have been developed.</p>
<p>Platforms:</p>
<ul>
<li>Apache httpd Server (<a href="https://github.com/Jasig/mod_auth_cas">mod_auth_cas module</a>)</li>
<li>Java (<a href="https://github.com/apereo/java-cas-client">Java CAS Client</a>)</li>
<li>.NET (<a href="https://github.com/apereo/dotnet-cas-client">.NET CAS Client</a>)</li>
<li>PHP (<a href="https://github.com/Jasig/phpCAS">phpCAS</a>)</li>
<li>Perl (PerlCAS)</li>
<li>Python (pycas)</li>
<li>Ruby (rubycas-client)</li>
</ul>
<p>Applications:</p>
<ul>
<li>Canvas</li>
<li>Atlassian Confluence</li>
<li>Atlassian JIRA</li>
<li>Drupal</li>
<li>Liferay</li>
<li>uPortal</li>
<li>...</li>
</ul>
<p>When the term "CAS client" appears in this manual without further qualification, it refers to the integration<br>
components such as the Java CAS Client rather than to the application relying upon (a client of) the CAS server.</p>
<h2>
<a id="supported-protocols" class="anchor" href="#supported-protocols" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Supported Protocols</h2>
<p>Clients communicate with the server by any of several supported protocols.  All the supported protocols are<br>
conceptually similar, yet some have features or characteristics that make them desirable for particular applications or use cases. For example, the CAS protocol supports delegated (proxy) authentication, and the SAML protocol supports attribute release and single sign-out.</p>
<p>Supported protocols:</p>
<ul>
<li><a href="../protocol/CAS-Protocol.html">CAS (versions 1, 2, and 3)</a></li>
<li><a href="../protocol/SAML-Protocol.html">SAML 1.1 and 2</a></li>
<li><a href="../protocol/OIDC-Protocol.html">OpenID Connect</a></li>
<li><a href="../protocol/OpenID-Protocol.html">OpenID</a></li>
<li><a href="../protocol/OAuth-Protocol.html">OAuth 2.0</a></li>
<li><a href="../protocol/WS-Federation-Protocol.html">WS Federation</a></li>
</ul>
<h2>
<a id="software-components" class="anchor" href="#software-components" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Software Components</h2>
<p>It is helpful to describe the CAS server in terms of three layered subsystems:</p>
<ul>
<li>Web (Spring MVC/Spring Webflow)</li>
<li><a href="../ticketing/Configuring-Ticketing-Components.html">Ticketing</a></li>
<li><a href="../installation/Configuring-Authentication-Components.html">Authentication</a></li>
</ul>
<p>Almost all deployment considerations and component configuration involve those three subsystems. The Web tier is the endpoint for communication with all external systems including CAS clients. The Web tier delegates to the ticketing subsystem to generate tickets for CAS client access. The SSO session begins with the issuance of a ticket-granting ticket on successful authentication, thus the ticketing subsystem frequently delegates to the authentication subsystem.</p>
<p>The authentication system is typically only processing requests at the start of the SSO session, though there are other cases when it can be invoked (e.g. forced authentication).</p>
<h3>
<a id="spring-framework" class="anchor" href="#spring-framework" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Framework</h3>
<p>CAS uses the many aspects of the Spring Framework; most notably,<br>
<a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/mvc.html">Spring MVC</a> and<br>
<a href="http://www.springsource.org/spring-web-flow">Spring Webflow</a>. Spring provides a complete and extensible framework for<br>
the core CAS codebase as well as for deployers; it's straightforward to customize or extend CAS behavior by hooking<br>
CAS and Spring API extension points. General knowledge of Spring is beneficial to understanding the interplay among<br>
some framework components, but it's not strictly required.</p>
<h3>
<a id="spring-boot" class="anchor" href="#spring-boot" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Spring Boot</h3>
<p>CAS is also heavily based on <a href="http://projects.spring.io/spring-boot/">Spring Boot</a>, which allows it to take an opinionated view of<br>
the Spring platform and third-party libraries to create a stand-alone web application without the hassle of XML configuration as much as possible.<br>
Spring Boot allows CAS to hide much of the internal complexity of its components and their configuration and instead provides auto-configuration modules that<br>
and automatically configure the running application context without much manual interference.</p>